<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="https://catpaws.top/blog-resource/imgs/logo.jpg"><link rel="icon" href="https://catpaws.top/blog-resource/imgs/logo.jpg"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="theme-color" content="#2f4154"><meta name="author" content="çŒ«çˆªåœ¨ä¸Š"><meta name="keywords" content=""><meta name="description" content="æœ‰æ•ˆçš„æ‹¬å·  æ€è·¯ï¼šä¾æ¬¡è¯»å–sä¸­çš„å­—ç¬¦ï¼Œè‹¥æ˜¯å·¦æ‹¬å·ï¼Œåˆ™å…¥æ ˆï¼›è‹¥æ˜¯å³æ‹¬å·ï¼Œåˆ™å¼¹å‡ºæ ˆé¡¶æ‹¬å·åˆ¤æ–­æ˜¯å¦åŒ¹é…ã€‚ åŒ¹é…å¤±è´¥çš„æƒ…å†µï¼š  æ ˆé¡¶æ‹¬å·ä¸å½“å‰æ‹¬å·ä¸åŒ¹é… å°†séå†å®Œï¼Œæ ˆä¸ä¸ºç©ºï¼Œåˆ™å·¦æ‹¬å·å•èº«ã€‚ séå†è¿‡ç¨‹ä¸­ï¼Œæ ˆä¸ºç©ºï¼Œåˆ™å³æ‹¬å·å•èº«  public boolean isValid(String s) &#123;     Deque&lt;Character&gt; stack &#x3D; ne"><meta property="og:type" content="article"><meta property="og:title" content="äº”ã€æ ˆä¸é˜Ÿåˆ—"><meta property="og:url" content="https://catpaws.top/700d279/index.html"><meta property="og:site_name" content="çŒ«çˆªåœ¨ä¸Šã®ä¹¦æ¡Œ"><meta property="og:description" content="æœ‰æ•ˆçš„æ‹¬å·  æ€è·¯ï¼šä¾æ¬¡è¯»å–sä¸­çš„å­—ç¬¦ï¼Œè‹¥æ˜¯å·¦æ‹¬å·ï¼Œåˆ™å…¥æ ˆï¼›è‹¥æ˜¯å³æ‹¬å·ï¼Œåˆ™å¼¹å‡ºæ ˆé¡¶æ‹¬å·åˆ¤æ–­æ˜¯å¦åŒ¹é…ã€‚ åŒ¹é…å¤±è´¥çš„æƒ…å†µï¼š  æ ˆé¡¶æ‹¬å·ä¸å½“å‰æ‹¬å·ä¸åŒ¹é… å°†séå†å®Œï¼Œæ ˆä¸ä¸ºç©ºï¼Œåˆ™å·¦æ‹¬å·å•èº«ã€‚ séå†è¿‡ç¨‹ä¸­ï¼Œæ ˆä¸ºç©ºï¼Œåˆ™å³æ‹¬å·å•èº«  public boolean isValid(String s) &#123;     Deque&lt;Character&gt; stack &#x3D; ne"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/image-20250907104942188-2025-9-910:52:09.png"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/image-20240811164748125-2024-8-1116:47:48.png"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/image-20250909121641854-2025-9-912_16_48-2025-9-912:35:11.png"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/image-20250909164228926-2025-9-916:42:31.png"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/calculator3-2025-9-918:31:38.png"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/%E6%97%A0%E6%A0%87%E9%A2%98-2025-9-922:55:25.png"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/image-20250911115015025-2025-9-1111:50:18.png"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/image-20250911121006649-2025-9-1112:10:08.png"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/image-20250911154443978-2025-9-1115:44:47.png"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/image-20250911092401377-2025-9-1109:24:29.png"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/image-20250911214256191-2025-9-1121:42:58.png"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/image-20250911214322645-2025-9-1121:43:23.png"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/image-20250911212950738-2025-9-1121:29:54.png"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/image-20250912110107459-2025-9-1211:01:43.png"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/image-20250911224840034-2025-9-1122:48:41.png"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/image-20250912120452068-2025-9-1212:04:58.png"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/image-20250912121530252-2025-9-1212:15:31.png"><meta property="article:published_time" content="2025-07-24T01:56:39.000Z"><meta property="article:modified_time" content="2025-09-12T15:12:14.471Z"><meta property="article:author" content="çŒ«çˆªåœ¨ä¸Š"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://gitee.com/cmyk359/img/raw/master/img/image-20250907104942188-2025-9-910:52:09.png"><title>äº”ã€æ ˆä¸é˜Ÿåˆ— - çŒ«çˆªåœ¨ä¸Šã®ä¹¦æ¡Œ</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/font.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/poem.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/cursor.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/loader.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/twikoo_beautify.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/indeximg-hover.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/wave-1.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/blurpicload.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/reward/iconfont.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/switch.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"catpaws.top",root:"/",version:"1.9.8",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"https://catpaws.top/blog-resource/imgs/transparent.svg",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,follow_dnt:!0,baidu:null,google:{measurement_id:null},tencent:{sid:null,cid:null},leancloud:{app_id:"TNTPv22capMq3aFV9S0sLqSm-gzGzoHsz",app_key:"G2BBAxXmiixopVg5mIJ2sxXR",server_url:"https://leancloud.catpaws.top",path:"window.location.pathname",ignore_local:!1},umami:{src:null,website_id:null,domains:null,start_time:"2024-01-01T00:00:00.000Z",token:null,api_server:null}},search_path:"/local-search.xml",include_content_in_search:!0};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="wrapper"></div><div id="loader-container"><div class="loader"><div class="wrapper"><div class="catContainer"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 733 673" class="catbody"><path fill="#212121" d="M111.002 139.5C270.502 -24.5001 471.503 2.4997 621.002 139.5C770.501 276.5 768.504 627.5 621.002 649.5C473.5 671.5 246 687.5 111.002 649.5C-23.9964 611.5 -48.4982 303.5 111.002 139.5Z"></path><path fill="#212121" d="M184 9L270.603 159H97.3975L184 9Z"></path><path fill="#212121" d="M541 0L627.603 150H454.397L541 0Z"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 158 564" class="tail"><path fill="#191919" d="M5.97602 76.066C-11.1099 41.6747 12.9018 0 51.3036 0V0C71.5336 0 89.8636 12.2558 97.2565 31.0866C173.697 225.792 180.478 345.852 97.0691 536.666C89.7636 553.378 73.0672 564 54.8273 564V564C16.9427 564 -5.4224 521.149 13.0712 488.085C90.2225 350.15 87.9612 241.089 5.97602 76.066Z"></path></svg><div class="text"><span class="bigzzz">Z</span> <span class="zzz">Z</span></div></div><div class="wallContainer"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 500 126" class="wall"><line stroke-width="6" stroke="#7C7C7C" y2="3" x2="450" y1="3" x1="50"></line><line stroke-width="6" stroke="#7C7C7C" y2="85" x2="400" y1="85" x1="100"></line><line stroke-width="6" stroke="#7C7C7C" y2="122" x2="375" y1="122" x1="125"></line><line stroke-width="6" stroke="#7C7C7C" y2="43" x2="500" y1="43"></line><line stroke-width="6" stroke="#7C7C7C" y2="1.99391" x2="115.5" y1="43.0061" x1="115.5"></line><line stroke-width="6" stroke="#7C7C7C" y2="2.00002" x2="189" y1="43.0122" x1="189"></line><line stroke-width="6" stroke="#7C7C7C" y2="2.00612" x2="262.5" y1="43.0183" x1="262.5"></line><line stroke-width="6" stroke="#7C7C7C" y2="2.01222" x2="336" y1="43.0244" x1="336"></line><line stroke-width="6" stroke="#7C7C7C" y2="2.01833" x2="409.5" y1="43.0305" x1="409.5"></line><line stroke-width="6" stroke="#7C7C7C" y2="43" x2="153" y1="84.0122" x1="153"></line><line stroke-width="6" stroke="#7C7C7C" y2="43" x2="228" y1="84.0122" x1="228"></line><line stroke-width="6" stroke="#7C7C7C" y2="43" x2="303" y1="84.0122" x1="303"></line><line stroke-width="6" stroke="#7C7C7C" y2="43" x2="378" y1="84.0122" x1="378"></line><line stroke-width="6" stroke="#7C7C7C" y2="84" x2="192" y1="125.012" x1="192"></line><line stroke-width="6" stroke="#7C7C7C" y2="84" x2="267" y1="125.012" x1="267"></line><line stroke-width="6" stroke="#7C7C7C" y2="84" x2="342" y1="125.012" x1="342"></line></svg></div></div></div></div><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>çŒ«çˆªåœ¨ä¸Šã®ä¹¦æ¡Œ</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/about/" target="_self"><i class="iconfont icon-addrcard"></i> <span>ä¸ªäººä¸»é¡µ</span></a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont icon-books"></i> <span>åšå®¢</span></a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="/" target="_self"><i class="iconfont icon-pen"></i> <span>æ–‡ç« </span> </a><a class="dropdown-item" href="/archives/" target="_self"><i class="iconfont icon-archive-fill"></i> <span>å½’æ¡£</span> </a><a class="dropdown-item" href="/categories/" target="_self"><i class="iconfont icon-category-fill"></i> <span>åˆ†ç±»</span> </a><a class="dropdown-item" href="/tags/" target="_self"><i class="iconfont icon-tags-fill"></i> <span>æ ‡ç­¾</span></a></div></li><li class="nav-item"><a class="nav-link" href="/messages/" target="_self"><i class="iconfont icon-comment"></i> <span>ç•™è¨€æ¿</span></a></li><li class="nav-item"><a class="nav-link" href="/timeline/" target="_self"><i class="iconfont icon-images"></i> <span>æ—¶å…‰è½´</span></a></li><li class="nav-item"><a class="nav-link" href="/links/" target="_self"><i class="iconfont icon-link-fill"></i> <span>å‹é“¾</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(https://catpaws.top/blog-resource/imgs/article-bg.jpg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="äº”ã€æ ˆä¸é˜Ÿåˆ—"></span></div><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2025-07-24 09:56" pubdate>2025å¹´7æœˆ24æ—¥ ä¸Šåˆ</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 8.4k å­— </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 71 åˆ†é’Ÿ </span><span id="leancloud-page-views-container" class="post-meta" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="leancloud-page-views"></span> æ¬¡</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 id="seo-header">äº”ã€æ ˆä¸é˜Ÿåˆ—</h1><p id="updated-time" class="note note-info">æœ¬æ–‡æœ€åæ›´æ–°äº 2025å¹´9æœˆ12æ—¥ æ™šä¸Š</p><div class="markdown-body"><meta name="referrer" , content="no-referrer"><h2 id="æœ‰æ•ˆçš„æ‹¬å·"><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/valid-parentheses/">æœ‰æ•ˆçš„æ‹¬å·</a></h2><p><img src="https://gitee.com/cmyk359/img/raw/master/img/image-20250907104942188-2025-9-910:52:09.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload style="zoom:80%"></p><p>æ€è·¯ï¼šä¾æ¬¡è¯»å–sä¸­çš„å­—ç¬¦ï¼Œè‹¥æ˜¯å·¦æ‹¬å·ï¼Œåˆ™å…¥æ ˆï¼›è‹¥æ˜¯å³æ‹¬å·ï¼Œåˆ™å¼¹å‡ºæ ˆé¡¶æ‹¬å·åˆ¤æ–­æ˜¯å¦åŒ¹é…ã€‚</p><p>åŒ¹é…å¤±è´¥çš„æƒ…å†µï¼š</p><ul><li>æ ˆé¡¶æ‹¬å·ä¸å½“å‰æ‹¬å·ä¸åŒ¹é…</li><li>å°†séå†å®Œï¼Œæ ˆä¸ä¸ºç©ºï¼Œåˆ™å·¦æ‹¬å·å•èº«ã€‚</li><li>séå†è¿‡ç¨‹ä¸­ï¼Œæ ˆä¸ºç©ºï¼Œåˆ™å³æ‹¬å·å•èº«</li></ul><div class="code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isValid</span><span class="hljs-params">(String s)</span> &#123;
    Deque&lt;Character&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayDeque</span>&lt;&gt;();
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; s.length(); i++) &#123;
        <span class="hljs-type">char</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> s.charAt(i);
        <span class="hljs-comment">//é‡åˆ°å·¦æ‹¬å·ï¼Œåˆ™å…¥æ ˆ</span>
        <span class="hljs-keyword">if</span> (c == <span class="hljs-string">&#x27;(&#x27;</span> || c == <span class="hljs-string">&#x27;&#123;&#x27;</span> || c == <span class="hljs-string">&#x27;[&#x27;</span>) &#123; 
            stack.push(c);
            <span class="hljs-keyword">continue</span>;
        &#125;
        <span class="hljs-comment">//é‡åˆ°å³æ‹¬å·ï¼Œåˆ™å¼¹å‡ºæ ˆé¡¶çš„å·¦æ‹¬å·åˆ¤æ–­æ˜¯å¦åŒ¹é…</span>
        <span class="hljs-keyword">if</span> (stack.isEmpty()) <span class="hljs-comment">//å³æ‹¬å·å•èº«</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;

        <span class="hljs-type">char</span> <span class="hljs-variable">r</span> <span class="hljs-operator">=</span> stack.pop();    
        <span class="hljs-keyword">if</span> (c == <span class="hljs-string">&#x27;)&#x27;</span> &amp;&amp; r != <span class="hljs-string">&#x27;(&#x27;</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (c == <span class="hljs-string">&#x27;&#125;&#x27;</span> &amp;&amp; r != <span class="hljs-string">&#x27;&#123;&#x27;</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (c == <span class="hljs-string">&#x27;]&#x27;</span> &amp;&amp; r != <span class="hljs-string">&#x27;[&#x27;</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;

    &#125;
    <span class="hljs-comment">//æœ€ç»ˆï¼Œè‹¥æ ˆä¸ºç©ºï¼Œåˆ™æ‰€æœ‰æ‹¬å·éƒ½åŒ¹é…ï¼Œå¦åˆ™æœ‰å·¦æ‹¬å·å•èº«</span>
    <span class="hljs-keyword">return</span> stack.isEmpty();
&#125;</code></pre></div><hr><p>è¿›é˜¶ğŸ¤£ï¼š</p><ul><li><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/generate-parentheses/">æ‹¬å·ç”Ÿæˆ</a></li><li><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/longest-valid-parentheses/">æœ€é•¿æœ‰æ•ˆæ‹¬å·</a></li><li><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/remove-invalid-parentheses/">åˆ é™¤æ— æ•ˆçš„æ‹¬å·</a></li></ul><h2 id="åˆ é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç›¸é‚»é‡å¤é¡¹æ¶ˆæ¶ˆä¹"><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/remove-all-adjacent-duplicates-in-string/">åˆ é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç›¸é‚»é‡å¤é¡¹ï¼ˆæ¶ˆæ¶ˆä¹ï¼‰</a></h2><p><img src="https://gitee.com/cmyk359/img/raw/master/img/image-20240811164748125-2024-8-1116:47:48.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload style="zoom:80%"></p><blockquote><p>åŒ¹é…é—®é¢˜éƒ½æ˜¯æ ˆçš„å¼ºé¡¹</p></blockquote><p>æ€è·¯ä¸€ï¼šä½¿ç”¨æ ˆæ¥å¤„ç†ã€‚éå†å­—ç¬¦ä¸²Sï¼Œå½“æ ˆä¸ºç©ºæ—¶ï¼Œå°†å½“å‰å­—ç¬¦å…¥æ ˆï¼›å½“æ ˆä¸ä¸ºç©ºæ—¶ï¼Œåˆ¤æ–­æ ˆé¡¶å…ƒç´ ä¸å½“å‰å­—ç¬¦æ˜¯å¦åŒ¹é…ï¼š</p><ul><li>è‹¥åŒ¹é…ï¼Œåˆ™æ ˆé¡¶å…ƒç´ å‡ºæ ˆï¼Œç»§ç»­éå†ä¸‹ä¸€å­—ç¬¦ã€‚</li><li>è‹¥ä¸åŒ¹é…ï¼Œåˆ™å°†å½“å‰å…ƒç´ å…¥æ ˆã€‚</li></ul><p>æœ€ç»ˆï¼Œå°†æ ˆä¸­å‰©ä½™å­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²<strong>åè½¬</strong>åè¿”å›å³å¯ã€‚</p><div class="note note-info"><p>å…¶å®ä½¿ç”¨åŒç«¯é˜Ÿåˆ—æ›´åˆé€‚ï¼Œæ¯æ¬¡ä»é˜Ÿå°¾è¿›è¡Œå…¥é˜Ÿå’Œå‡ºé˜Ÿæ“ä½œï¼Œæœ€ç»ˆç›´æ¥è¿”å›é˜Ÿåˆ—ä¸­å­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²å³å¯ã€‚</p></div><div class="code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> String <span class="hljs-title function_">removeDuplicates</span><span class="hljs-params">(String s)</span> &#123;
    <span class="hljs-keyword">if</span> (s.length() == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> s;
    Deque&lt;Character&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayDeque</span>&lt;&gt;();

    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; s.length(); i++) &#123;
        <span class="hljs-type">char</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> s.charAt(i);
        <span class="hljs-keyword">if</span> (stack.isEmpty() || stack.peek() != c)
            stack.push(c);
        <span class="hljs-keyword">else</span> 
            stack.pop();
    &#125;
    <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
    <span class="hljs-keyword">while</span>(!stack.isEmpty()) &#123;
        sb.append(stack.pop());
    &#125;
    <span class="hljs-keyword">return</span> sb.reverse().toString();
&#125;</code></pre></div><hr><p>æ€è·¯äºŒï¼šä½¿ç”¨å¿«æ…¢æŒ‡é’ˆã€‚å¿«æŒ‡é’ˆéå†å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦ï¼Œæ…¢æŒ‡é’ˆæ„é€ æœ€ç»ˆç»“æœå­—ç¬¦ä¸²ã€‚æ¯æ¬¡å°†fastä½ç½®å­—ç¬¦æ”¾åˆ°slowæ‰€æŒ‡ä½ç½®ï¼Œå†åˆ¤æ–­å½“å‰åŠ å…¥çš„å­—ç¬¦å’Œå‰ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ç›¸åŒï¼š</p><ul><li>è‹¥ç›¸åŒåˆ™slow--ï¼Œä¸‹æ¬¡åŠ å…¥çš„å­—ç¬¦è¦†ç›–æ‰å½“å‰ç›¸åŒçš„å­—ç¬¦</li><li>å¦åˆ™slow++ï¼ŒæŒ‡å‡ºä¸‹ä¸€ä¸ªåŠ å…¥çš„ä½ç½®ã€‚</li></ul><blockquote><p>ç”±äºjavaä¸­çš„Stringæ˜¯ä¸å¯å˜çš„ï¼Œä¸å¯é¿å…çš„è¦å°†å…¶è½¬æ¢ä¸ºcharæ•°ç»„è¿›è¡Œå¤„ç†ï¼›è€Œå¯¹äºc++ä¸­çš„stringï¼Œä¿®æ”¹æ“ä½œç›´æ¥åœ¨åŸå¯¹è±¡ä¸Šè¿›è¡Œï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(1).</p></blockquote><div class="code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> String <span class="hljs-title function_">removeDuplicates</span><span class="hljs-params">(String s)</span> &#123;
    <span class="hljs-type">char</span>[] chs = s.toCharArray();
    <span class="hljs-type">int</span> <span class="hljs-variable">slow</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>, fast = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">while</span> (fast &lt; chs.length) &#123;
        chs[slow] = chs[fast];
        <span class="hljs-keyword">if</span> (slow &gt; <span class="hljs-number">0</span> &amp;&amp; chs[slow] == chs[slow - <span class="hljs-number">1</span>])
            slow--;
        <span class="hljs-keyword">else</span>
            slow++;
        fast++;
    &#125;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(chs, <span class="hljs-number">0</span>, slow);
&#125;</code></pre></div><h2 id="é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼"><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/evaluate-reverse-polish-notation/">é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼</a></h2><p><img src="https://gitee.com/cmyk359/img/raw/master/img/image-20250909121641854-2025-9-912_16_48-2025-9-912:35:11.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload style="zoom:80%"></p><p>é€†æ³¢å…°è¡¨è¾¾å¼å³åç¼€è¡¨è¾¾å¼ï¼Œè¡¨è¾¾å¼æ±‚å€¼æ˜¯æ ˆçš„ç»å…¸åº”ç”¨ã€‚</p><p>æ€è·¯è¯¦è§ï¼š<a href="https://catpaws.top/d403458d/#æ ˆåœ¨è¡¨è¾¾å¼æ±‚å€¼ä¸­çš„åº”ç”¨">æ ˆåœ¨è¡¨è¾¾å¼æ±‚å€¼ä¸­çš„åº”ç”¨</a></p><div class="code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">evalRPN</span><span class="hljs-params">(String[] tokens)</span> &#123;
    Deque&lt;Integer&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayDeque</span>&lt;&gt;();
    <span class="hljs-type">String</span> <span class="hljs-variable">operators</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;+-*/&quot;</span>;
    <span class="hljs-keyword">for</span> (String s : tokens) &#123;
        <span class="hljs-comment">//é‡åˆ°æ•°å­—ï¼Œåˆ™å…¥æ ˆ</span>
        <span class="hljs-keyword">if</span> (!operators.contains(s))
            stack.push(Integer.valueOf(s));
        <span class="hljs-comment">//é‡åˆ°è¿ç®—ç¬¦ï¼Œåˆ™å¼¹å‡ºæ ˆé¡¶ä¸¤ä¸ªå…ƒç´ æ‰§è¡Œç›¸åº”è¿ç®—</span>
        <span class="hljs-keyword">else</span> &#123; 
            <span class="hljs-type">int</span> <span class="hljs-variable">right</span> <span class="hljs-operator">=</span> stack.pop(); <span class="hljs-comment">//å…ˆå¼¹å‡ºçš„æ˜¯å³æ“ä½œæ•°</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">midRes</span> <span class="hljs-operator">=</span> calculate(stack.pop(), right, s);
            stack.push(midRes);
        &#125;
    &#125;
    <span class="hljs-keyword">return</span> stack.pop();
&#125;

<span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">calculate</span><span class="hljs-params">(<span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right, String operator)</span> &#123;
    <span class="hljs-keyword">if</span> (operator.equals(<span class="hljs-string">&quot;+&quot;</span>))
        <span class="hljs-keyword">return</span> left + right;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (operator.equals(<span class="hljs-string">&quot;-&quot;</span>))
        <span class="hljs-keyword">return</span> left - right;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (operator.equals(<span class="hljs-string">&quot;*&quot;</span>))
        <span class="hljs-keyword">return</span> left * right;
    <span class="hljs-keyword">else</span>
        <span class="hljs-keyword">return</span> left / right;
&#125;</code></pre></div><div class="note note-warning"><p>è¸©å‘ï¼šç”±äºè‡ªå·±çš„ç²—å¿ƒï¼Œåœ¨ <code>calculate</code> æ–¹æ³•ä¸­ï¼Œä½¿ç”¨ <code>==</code> è¿›è¡ŒStringå­—ç¬¦ä¸²æ¯”è¾ƒï¼Œè€Œä¸æ˜¯ç”¨ <code>equals</code> æ–¹æ³•ã€‚<code>==</code> æ¯”è¾ƒçš„æ˜¯å­—ç¬¦ä¸²å¯¹è±¡çš„å¼•ç”¨ï¼Œè€Œä¸æ˜¯å†…å®¹ã€‚ç”±äºè¾“å…¥ä¸­çš„è¿ç®—ç¬¦å­—ç¬¦ä¸²å¯¹è±¡ä¸ä»£ç ä¸­çš„å­—ç¬¦ä¸²å­—é¢é‡ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œè¿™äº›æ¯”è¾ƒå‡ ä¹æ€»æ˜¯è¿”å› <code>false</code>ï¼Œå› æ­¤æ— è®ºå®é™…è¿ç®—ç¬¦æ˜¯ä»€ä¹ˆï¼Œéƒ½ä¼šæ‰§è¡Œé™¤æ³•æ“ä½œï¼Œæœ€ç»ˆç»è¿‡å‡ æ¬¡è¿ç®—å‡ºç°äº†é™¤æ•°ä¸ºé›¶çš„é”™è¯¯ã€‚</p><p>æ€»ç»“ï¼š== å’Œ equalsçš„ä½¿ç”¨</p><p><code>==</code> æ˜¯javaä¸­æ¯”è¾ƒè¿ç®—ç¬¦ï¼Œå®ƒæœ‰ä¸¤ç§ä½¿ç”¨åœºæ™¯</p><ul><li>å¯¹äº<strong>åŸºæœ¬æ•°æ®ç±»å‹</strong>ï¼Œæ¯”è¾ƒçš„æ˜¯å€¼æ˜¯å¦ç›¸ç­‰</li><li>å¯¹äº<strong>å¼•ç”¨ç±»å‹</strong>ï¼Œæ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€æ˜¯å¦ç›¸åŒï¼ˆå³æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼‰</li></ul><p><code>equals()</code> æ˜¯ Object ç±»çš„æ–¹æ³•ï¼Œç”¨äºæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹æ˜¯å¦ç›¸ç­‰ï¼š</p><ul><li>é»˜è®¤è¡Œä¸ºï¼šä¸ <code>==</code> ç›¸åŒï¼Œæ¯”è¾ƒå¯¹è±¡å¼•ç”¨</li><li>è®¸å¤šç±»ï¼ˆå¦‚ Stringã€Integerï¼‰é‡å†™äº† equals() æ–¹æ³•ï¼Œä½¿å…¶æ¯”è¾ƒå¯¹è±¡å†…å®¹</li></ul><p>å› æ­¤ï¼šå¯¹åº”åŸºæœ¬æ•°æ®ç±»å‹çš„æ¯”è¾ƒï¼Œæ€»æ˜¯ä½¿ç”¨ <code>==</code>ï¼›å­—ç¬¦ä¸²æ¯”è¾ƒï¼Œæ€»æ˜¯ä½¿ç”¨ <code>equals()</code>ï¼›åœ¨å¯¹è±¡çš„æ¯”è¾ƒä¸­ï¼Œè‹¥éœ€è¦æ¯”è¾ƒå¼•ç”¨ï¼Œä½¿ç”¨ <code>==</code>ï¼Œè‹¥éœ€è¦æ¯”è¾ƒå†…å®¹ï¼Œä½¿ç”¨ <code>equals()</code>ã€‚åŒæ—¶ä½¿ç”¨ <code>Objects.equals()</code>æ¯”è¾ƒèƒ½é¿å… NullPointerException</p></div><hr><p>è¿›é˜¶ï¼š</p><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/basic-calculator/">åŸºæœ¬è®¡ç®—å™¨</a></p><p><img src="https://gitee.com/cmyk359/img/raw/master/img/image-20250909164228926-2025-9-916:42:31.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload style="zoom:80%"></p><p>å¦‚ä½•å¤„ç†ä¸€å…ƒè¿ç®—ç¬¦<code>-</code>ï¼šå½“åˆ¤æ–­å‡ºå½“å‰æ˜¯ä¸€å…ƒè¿ç®—åï¼Œå…ˆæ‰‹åŠ¨å¾€æ“ä½œæ•°æ ˆä¸­å…¥æ ˆä¸€ä¸ª0</p><p>ä¸€å…ƒè´Ÿå·å‡ºç°çš„æ­£ç¡®æ¡ä»¶ï¼š</p><ol type="1"><li>è¡¨è¾¾å¼å¼€å¤´ï¼Œä¾‹å¦‚"-1"</li><li>å·¦æ‹¬å·åï¼Œä¾‹å¦‚"(-1+2)"</li><li>è¿ç®—ç¬¦åï¼Œä¾‹å¦‚"1+ -2"</li></ol><div class="code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">calculate</span><span class="hljs-params">(String s)</span> &#123;
    Deque&lt;Integer&gt; nums = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayDeque</span>&lt;&gt;();<span class="hljs-comment">//æ“ä½œæ•°æ ˆ</span>
    Deque&lt;Character&gt; operators = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayDeque</span>&lt;&gt;();<span class="hljs-comment">//è¿ç®—ç¬¦æ ˆ</span>

    <span class="hljs-comment">//é¢„å¤„ç†ï¼Œåˆ é™¤æ‰€æœ‰ç©ºæ ¼</span>
    s = s.replaceAll(<span class="hljs-string">&quot; &quot;</span>, <span class="hljs-string">&quot;&quot;</span>);

    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; s.length(); i++) &#123;
        <span class="hljs-type">char</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> s.charAt(i);

        <span class="hljs-comment">//é‡åˆ°æ•°å­—</span>
        <span class="hljs-keyword">if</span> (Character.isDigit(c)) &#123;
            <span class="hljs-comment">// è¯»å–å®Œæ•´æ•°å­—</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
            <span class="hljs-keyword">while</span> (i &lt; s.length() &amp;&amp; Character.isDigit(s.charAt(i))) &#123;
                num = num * <span class="hljs-number">10</span> + (s.charAt(i) - <span class="hljs-string">&#x27;0&#x27;</span>);
                i++;
            &#125;
            nums.push(num);
            i--; <span class="hljs-comment">// å› ä¸ºforå¾ªç¯ä¼ši++ï¼Œæ‰€ä»¥è¿™é‡Œå‡ä¸€</span>
        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">&#x27;(&#x27;</span>) &#123; <span class="hljs-comment">//é‡åˆ°å·¦æ‹¬å·</span>
            operators.push(c);
        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">&#x27;)&#x27;</span>) &#123; <span class="hljs-comment">//é‡åˆ°å³æ‹¬å·</span>
            <span class="hljs-comment">//ä¾æ¬¡ä»è¿ç®—ç¬¦æ ˆä¸­å¼¹å‡ºè¿ç®—ç¬¦ï¼Œç›´è‡³å¼¹å‡ºå·¦æ‹¬å·;åŒæ—¶ä»æ“ä½œæ•°æ ˆä¸­å¼¹å‡ºä¸¤ä¸ªæ“ä½œæ•°è¿›è¡Œç›¸åº”è¿ç®—ï¼Œè¿ç®—ç»“æœå‹å…¥æ“ä½œæ•°æ ˆé¡¶</span>
            <span class="hljs-keyword">while</span> (operators.peek() != <span class="hljs-string">&#x27;(&#x27;</span>) &#123;
                <span class="hljs-type">char</span> <span class="hljs-variable">op</span> <span class="hljs-operator">=</span> operators.pop();
                <span class="hljs-type">int</span> <span class="hljs-variable">right</span> <span class="hljs-operator">=</span> nums.pop(); <span class="hljs-comment">//å…ˆå‡ºæ ˆçš„æ˜¯å³æ“ä½œæ•°</span>
                <span class="hljs-type">int</span> <span class="hljs-variable">left</span> <span class="hljs-operator">=</span> nums.pop();
                nums.push(applyOp(op, right, left));
            &#125;
            operators.pop(); <span class="hljs-comment">// å¼¹å‡ºå·¦æ‹¬å·</span>
        &#125; <span class="hljs-keyword">else</span> &#123; <span class="hljs-comment">//é‡åˆ°è¿ç®—ç¬¦</span>
            <span class="hljs-comment">// ä¾æ¬¡ä»è¿ç®—ç¬¦æ ˆä¸­å¼¹è¿ç®—ç¬¦ï¼Œç›´è‡³æ ˆé¡¶ä¸ºå·¦æ‹¬å·æˆ–æ ˆä¸ºç©º,åŒæ—¶ä»æ“ä½œæ•°æ ˆä¸­å¼¹å‡ºä¸¤ä¸ªæ“ä½œæ•°è¿›è¡Œç›¸åº”è¿ç®—ï¼Œè¿ç®—ç»“æœå‹å…¥æ“ä½œæ•°æ ˆé¡¶, æœ€åå°†å½“å‰è¿ç®—ç¬¦å‹å…¥è¿ç®—ç¬¦æ ˆ</span>

            <span class="hljs-comment">// å¤„ç†ä¸€å…ƒè´Ÿå·</span>
            <span class="hljs-keyword">if</span> (c == <span class="hljs-string">&#x27;-&#x27;</span> &amp;&amp; isUnary(s, i)) &#123;
                nums.push(<span class="hljs-number">0</span>);
            &#125;
            <span class="hljs-comment">// è¿™é‡Œåªæœ‰åŠ å‡ï¼Œä¼˜å…ˆçº§ç›¸åŒï¼Œæ‰€ä»¥å¯ä»¥å¼¹å‡ºæ‰€æœ‰é&#x27;(&#x27;çš„è¿ç®—ç¬¦</span>
            <span class="hljs-keyword">while</span> (!operators.isEmpty() &amp;&amp; operators.peek() != <span class="hljs-string">&#x27;(&#x27;</span>) &#123;
                nums.push(applyOp(operators.pop(), nums.pop(), nums.pop()));
            &#125;
            operators.push(c);
        &#125;
    &#125;
	<span class="hljs-comment">// å¤„ç†å‰©ä½™çš„è¿ç®—ç¬¦</span>
    <span class="hljs-keyword">while</span> (!operators.isEmpty()) &#123;
        nums.push(applyOp(operators.pop(), nums.pop(), nums.pop()));
    &#125;
    <span class="hljs-keyword">return</span> nums.pop();
&#125;
<span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦ä¸ºä¸€å…ƒè´Ÿå·</span>
<span class="hljs-type">boolean</span> <span class="hljs-title function_">isUnary</span><span class="hljs-params">(String s, <span class="hljs-type">int</span> i)</span> &#123;
    <span class="hljs-keyword">if</span> (i == <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-type">char</span> <span class="hljs-variable">prev</span> <span class="hljs-operator">=</span> s.charAt(i - <span class="hljs-number">1</span>);
    <span class="hljs-keyword">return</span> prev == <span class="hljs-string">&#x27;(&#x27;</span> || prev == <span class="hljs-string">&#x27;+&#x27;</span> || prev == <span class="hljs-string">&#x27;-&#x27;</span> || prev == <span class="hljs-string">&#x27;*&#x27;</span> || prev == <span class="hljs-string">&#x27;/&#x27;</span>;
&#125;

<span class="hljs-comment">//å…ˆä¼ å…¥çš„æ˜¯å³æ“ä½œæ•°</span>
<span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">applyOp</span><span class="hljs-params">(<span class="hljs-type">char</span> operator, <span class="hljs-type">int</span> right, <span class="hljs-type">int</span> left)</span> &#123;
    <span class="hljs-keyword">if</span> (operator == <span class="hljs-string">&#x27;+&#x27;</span>)
        <span class="hljs-keyword">return</span> left + right;
    <span class="hljs-keyword">else</span>
        <span class="hljs-keyword">return</span> left - right;
&#125;</code></pre></div><p>å¦ä¸€ç§è§£æ³•ï¼š</p><div class="spoiler collapsed"><div class="spoiler-title">é€’å½’è§£æ³•</div><div class="spoiler-content"><p>ä½¿ç”¨ä¸€ä¸ªé€’å½’å‡½æ•°recursionæ¥å¤„ç†å½“å‰æ‹¬å·å†…çš„å­è¡¨è¾¾å¼ï¼Œå¤©ç„¶åœ°å¤„ç†äº†æ‹¬å·çš„åµŒå¥—</p><ul><li><code>res</code>ï¼šç´¯è®¡å½“å‰è¡¨è¾¾å¼çš„ç»“æœ</li><li><code>tmp</code>ï¼šæš‚å­˜å½“å‰æ­£åœ¨è§£æçš„æ•°å­—</li><li><code>sign</code>ï¼šè®°å½•å½“å‰æ•°å­—çš„ç¬¦å·ï¼ˆ1è¡¨ç¤ºæ­£ï¼Œ-1è¡¨ç¤ºè´Ÿï¼‰</li></ul><p>é‡åˆ°æ•°å­—åˆ™è®¡ç®—å½“å‰æ•°å­—ï¼ˆè¿ç»­æ•°å­—å­—ç¬¦ç»„æˆæ•´æ•°ï¼‰ã€‚</p><p>é‡åˆ°åŠ å·æˆ–å‡å·ï¼Œåˆ™å°†å½“å‰æ•°å­—ä¹˜ä»¥signåŠ åˆ°ç»“æœä¸­ï¼Œç„¶åé‡ç½®tmpä¸º0ï¼Œå¹¶æ›´æ–°signã€‚</p><p>é‡åˆ°å·¦æ‹¬å·ï¼Œé€’å½’å¤„ç†æ‹¬å·å†…çš„è¡¨è¾¾å¼ï¼Œå¹¶å°†é€’å½’ç»“æœä¹˜ä»¥å½“å‰çš„signåŠ åˆ°ç»“æœä¸­ã€‚</p><p>é‡åˆ°å³æ‹¬å·ï¼Œè¿”å›å½“å‰ç»“æœåŠ ä¸Šå½“å‰æ•°å­—ä¹˜ä»¥signï¼ˆå› ä¸ºå³æ‹¬å·å‰å¯èƒ½è¿˜æœ‰æ•°å­—æ²¡åŠ ï¼‰ã€‚</p><div class="code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;

    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> i;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> n;
    <span class="hljs-keyword">private</span> String s;

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">calculate</span><span class="hljs-params">(String s)</span> &#123;
        i = <span class="hljs-number">0</span>;
        n = s.length();
        <span class="hljs-built_in">this</span>.s = s;

        <span class="hljs-keyword">return</span> recursion();
    &#125;
	
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-title function_">recursion</span><span class="hljs-params">()</span> &#123;
        <span class="hljs-type">int</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">tmp</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">sign</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;

        <span class="hljs-keyword">while</span> (i &lt; n) &#123;
            <span class="hljs-type">char</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> s.charAt(i);

            <span class="hljs-keyword">switch</span> (c) &#123;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27; &#x27;</span>:
                    i++;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;+&#x27;</span>:
                    res += tmp * sign;
                    tmp = <span class="hljs-number">0</span>;
                    sign = <span class="hljs-number">1</span>;
                    i++;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;-&#x27;</span>:
                    res += tmp * sign;
                    tmp = <span class="hljs-number">0</span>;
                    sign = -<span class="hljs-number">1</span>;
                    i++;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;(&#x27;</span>:
                    i++;
                    res += recursion() * sign;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;)&#x27;</span>:
                    i++;
                    <span class="hljs-keyword">return</span> res + tmp * sign;
                <span class="hljs-keyword">default</span>:
                    tmp = tmp * <span class="hljs-number">10</span> + (c - <span class="hljs-string">&#x27;0&#x27;</span>);
                    i++;
            &#125;
        &#125;

        <span class="hljs-keyword">return</span> res + tmp * sign;
    &#125;
&#125;</code></pre></div></div></div><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/basic-calculator-iii/description/">åŸºæœ¬è®¡ç®—å™¨III</a></p><p><img src="https://gitee.com/cmyk359/img/raw/master/img/calculator3-2025-9-918:31:38.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload style="zoom:80%"></p><p>ç›¸æ¯”äº<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/basic-calculator/">åŸºæœ¬è®¡ç®—å™¨</a>ï¼Œåªæ˜¯å¤šäº†ä¹˜é™¤è¿ç®—ï¼Œåœ¨å…¶åŸºç¡€ä¸ŠåŠ ä¸€ä¸ªä¼˜å…ˆçº§åˆ¤æ–­å³å¯ã€‚å½“é‡åˆ°è¿ç®—ç¬¦æ—¶ï¼Œä¾æ¬¡ä»è¿ç®—ç¬¦æ ˆä¸­å¼¹å‡ºä¼˜å…ˆçº§&gt;=å½“å‰è¿ç®—ç¬¦çš„å…ƒç´ ï¼Œç›´è‡³æ ˆé¡¶ä¸ºå·¦æ‹¬å·æˆ–æ ˆä¸ºç©ºã€‚</p><div class="code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">calculate</span><span class="hljs-params">(String s)</span> &#123;
    Deque&lt;Integer&gt; nums = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayDeque</span>&lt;&gt;();<span class="hljs-comment">//æ“ä½œæ•°æ ˆ</span>
    Deque&lt;Character&gt; operators = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayDeque</span>&lt;&gt;();<span class="hljs-comment">//è¿ç®—ç¬¦æ ˆ</span>

    <span class="hljs-comment">//é¢„å¤„ç†ï¼Œåˆ é™¤æ‰€æœ‰ç©ºæ ¼</span>
    s = s.replaceAll(<span class="hljs-string">&quot; &quot;</span>, <span class="hljs-string">&quot;&quot;</span>);

    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; s.length(); i++) &#123;
        <span class="hljs-type">char</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> s.charAt(i);

        <span class="hljs-comment">//é‡åˆ°æ•°å­—</span>
        <span class="hljs-keyword">if</span> (Character.isDigit(c)) &#123;
            <span class="hljs-comment">// è¯»å–å®Œæ•´æ•°å­—</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
            <span class="hljs-keyword">while</span> (i &lt; s.length() &amp;&amp; Character.isDigit(s.charAt(i))) &#123;
                num = num * <span class="hljs-number">10</span> + (s.charAt(i) - <span class="hljs-string">&#x27;0&#x27;</span>);
                i++;
            &#125;
            nums.push(num);
            i--; <span class="hljs-comment">// å› ä¸ºforå¾ªç¯ä¼ši++ï¼Œæ‰€ä»¥è¿™é‡Œå‡ä¸€</span>
        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">&#x27;(&#x27;</span>) &#123; <span class="hljs-comment">//é‡åˆ°å·¦æ‹¬å·</span>
            operators.push(c);
        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">&#x27;)&#x27;</span>) &#123; <span class="hljs-comment">//é‡åˆ°å³æ‹¬å·</span>
            <span class="hljs-comment">//ä¾æ¬¡ä»è¿ç®—ç¬¦æ ˆä¸­å¼¹å‡ºè¿ç®—ç¬¦ï¼Œç›´è‡³å¼¹å‡ºå·¦æ‹¬å·;åŒæ—¶ä»æ“ä½œæ•°æ ˆä¸­å¼¹å‡ºä¸¤ä¸ªæ“ä½œæ•°è¿›è¡Œç›¸åº”è¿ç®—ï¼Œè¿ç®—ç»“æœå‹å…¥æ“ä½œæ•°æ ˆé¡¶</span>
            <span class="hljs-keyword">while</span> (operators.peek() != <span class="hljs-string">&#x27;(&#x27;</span>) &#123;
                <span class="hljs-type">char</span> <span class="hljs-variable">op</span> <span class="hljs-operator">=</span> operators.pop();
                <span class="hljs-type">int</span> <span class="hljs-variable">right</span> <span class="hljs-operator">=</span> nums.pop(); <span class="hljs-comment">//å…ˆå‡ºæ ˆçš„æ˜¯å³æ“ä½œæ•°</span>
                <span class="hljs-type">int</span> <span class="hljs-variable">left</span> <span class="hljs-operator">=</span> nums.pop();
                nums.push(applyOp(op, right, left));
            &#125;
            operators.pop(); <span class="hljs-comment">// å¼¹å‡ºå·¦æ‹¬å·</span>
        &#125; <span class="hljs-keyword">else</span> &#123; <span class="hljs-comment">//é‡åˆ°è¿ç®—ç¬¦</span>
            <span class="hljs-comment">// ä¾æ¬¡ä»è¿ç®—ç¬¦æ ˆä¸­å¼¹å‡ºè¿ç®—ç¬¦ï¼Œç›´è‡³æ ˆé¡¶ä¸ºå·¦æ‹¬å·æˆ–æ ˆä¸ºç©º,åŒæ—¶ä»æ“ä½œæ•°æ ˆä¸­å¼¹å‡ºä¸¤ä¸ªæ“ä½œæ•°è¿›è¡Œç›¸åº”è¿ç®—ï¼Œè¿ç®—ç»“æœå‹å…¥æ“ä½œæ•°æ ˆé¡¶, æœ€åå°†å½“å‰è¿ç®—ç¬¦å‹å…¥è¿ç®—ç¬¦æ ˆ</span>

            <span class="hljs-comment">// å¤„ç†ä¸€å…ƒè´Ÿå·</span>
            <span class="hljs-keyword">if</span> (c == <span class="hljs-string">&#x27;-&#x27;</span> &amp;&amp; isUnary(s, i)) &#123;
                nums.push(<span class="hljs-number">0</span>);
            &#125;
            
            <span class="hljs-keyword">while</span> (!operators.isEmpty() &amp;&amp; operators.peek() != <span class="hljs-string">&#x27;(&#x27;</span> &amp;&amp; level(operators.peek()) &gt;= level(c)) &#123;
                nums.push(applyOp(operators.pop(), nums.pop(), nums.pop()));
            &#125;
            operators.push(c);
        &#125;
    &#125;

    <span class="hljs-keyword">while</span> (!operators.isEmpty()) &#123;
        nums.push(applyOp(operators.pop(), nums.pop(), nums.pop()));
    &#125;
    <span class="hljs-keyword">return</span> nums.pop();
&#125;

<span class="hljs-type">boolean</span> <span class="hljs-title function_">isUnary</span><span class="hljs-params">(String s, <span class="hljs-type">int</span> i)</span> &#123;
    <span class="hljs-keyword">if</span> (i == <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-type">char</span> <span class="hljs-variable">prev</span> <span class="hljs-operator">=</span> s.charAt(i - <span class="hljs-number">1</span>);
    <span class="hljs-keyword">return</span> prev == <span class="hljs-string">&#x27;(&#x27;</span> || prev == <span class="hljs-string">&#x27;+&#x27;</span> || prev == <span class="hljs-string">&#x27;-&#x27;</span> || prev == <span class="hljs-string">&#x27;*&#x27;</span> || prev == <span class="hljs-string">&#x27;/&#x27;</span>;
&#125;


<span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">applyOp</span><span class="hljs-params">(<span class="hljs-type">char</span> operator, <span class="hljs-type">int</span> right, <span class="hljs-type">int</span> left)</span> &#123;
    <span class="hljs-keyword">if</span> (operator == <span class="hljs-string">&#x27;+&#x27;</span>)
        <span class="hljs-keyword">return</span> left + right;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (operator == <span class="hljs-string">&#x27;-&#x27;</span>)
        <span class="hljs-keyword">return</span> left - right;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (operator == <span class="hljs-string">&#x27;*&#x27;</span>)
        <span class="hljs-keyword">return</span> left * right;
    <span class="hljs-keyword">return</span> left / right;
&#125;

<span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">level</span><span class="hljs-params">(<span class="hljs-type">char</span> c)</span> &#123;
    <span class="hljs-keyword">if</span> (c == <span class="hljs-string">&#x27;+&#x27;</span> || c == <span class="hljs-string">&#x27;-&#x27;</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
    <span class="hljs-keyword">else</span>
        <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;
&#125;
</code></pre></div><h2 id="å‰-k-ä¸ªé«˜é¢‘å…ƒç´ "><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/top-k-frequent-elements/">å‰ K ä¸ªé«˜é¢‘å…ƒç´ </a></h2><p>é¢˜ç›®æè¿°ï¼šç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªæ•´æ•° <code>k</code> ï¼Œè¯·ä½ è¿”å›å…¶ä¸­å‡ºç°é¢‘ç‡å‰ <code>k</code> é«˜çš„å…ƒç´ ã€‚ä½ å¯ä»¥æŒ‰ <strong>ä»»æ„é¡ºåº</strong> è¿”å›ç­”æ¡ˆã€‚ï¼ˆ<span style="color:red">Top ké—®é¢˜</span>ï¼‰</p><p>åŸºæœ¬æ€è·¯ï¼š</p><ul><li>ç»Ÿè®¡å…ƒç´ å‡ºç°çš„æ¬¡æ•°ã€‚</li><li>å¯¹æ¬¡æ•°æ’åºã€‚</li><li>æ‰¾å‡ºå‰ kä¸ªé«˜é¢‘å…ƒç´ ã€‚</li></ul><p>Top Ké—®é¢˜æ˜¯å †çš„ç»å…¸åº”ç”¨ã€‚</p><p>é¦–å…ˆå¯ä»¥ä½¿ç”¨HashMapç»Ÿè®¡å„ä¸ªå…ƒç´ å‡ºç°çš„é¢‘ç‡ã€‚ä¹‹åéå†HashMapï¼Œæ ¹æ®å‡ºç°çš„é¢‘ç‡å°†å¯¹åº”çš„å…ƒç´ å­˜å…¥å¤§å°ä¸ºkçš„ä¼˜å…ˆçº§é˜Ÿåˆ—<a href="https://catpaws.top/d5381517/#priorityqueue">PriorityQueue</a>ï¼ˆå°æ ¹å †ï¼‰ä¸­ï¼Œæœ€ç»ˆä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­å­˜å‚¨çš„å°±æ˜¯é¢‘ç‡å‰ké«˜çš„å…ƒç´ ã€‚</p><div class="code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] topKFrequent(<span class="hljs-type">int</span>[] nums, <span class="hljs-type">int</span> k) &#123;
    Map&lt;Integer, Integer&gt; map  = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
    <span class="hljs-comment">//ç»Ÿè®¡é¢‘ç‡</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> num : nums) &#123;
        map.put(num, map.getOrDefault(num, <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>);
    &#125;
	
    <span class="hljs-comment">// åˆ›å»ºä¼˜å…ˆé˜Ÿåˆ—ï¼ˆå°æ ¹å †ï¼‰ï¼Œæ¯”è¾ƒå™¨åŸºäºé¢‘ç‡</span>
    Queue&lt;Integer&gt; heap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PriorityQueue</span>&lt;&gt;(
        (a, b) -&gt; map.get(a) - map.get(b)
    );
	
    <span class="hljs-comment">//éå†HashMapçš„é”®ï¼Œç»´æŠ¤å¤§å°ä¸ºkçš„å †</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> num : map.keySet()) &#123;
        heap.offer(num);
        <span class="hljs-keyword">if</span> (heap.size() &gt; k) 
            heap.poll(); <span class="hljs-comment">//ç§»é™¤é¢‘ç‡æœ€ä½çš„å…ƒç´ </span>
    &#125;

    <span class="hljs-comment">//æ”¶é›†å‰kä¸ªé«˜é¢‘å…ƒç´ </span>
    <span class="hljs-type">int</span>[] res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[k];
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; k; i++) &#123;
        res[i] = heap.poll();
    &#125;
    <span class="hljs-keyword">return</span> res;
&#125;</code></pre></div><h2 id="å•è°ƒé˜Ÿåˆ—">å•è°ƒé˜Ÿåˆ—</h2><p><strong>å•è°ƒé˜Ÿåˆ—</strong>æ˜¯ä¸€ç§ç‰¹æ®Šçš„é˜Ÿåˆ—ï¼Œå®ƒä¿è¯é˜Ÿåˆ—ä¸­çš„å…ƒç´ ï¼ˆæˆ–å…ƒç´ çš„æŸä¸ªå±æ€§ï¼‰æ˜¯å•è°ƒçš„ï¼ˆé€’å¢æˆ–é€’å‡ï¼‰ã€‚ä¸æ™®é€šé˜Ÿåˆ—çš„ FIFO åŸåˆ™ä¸åŒï¼Œå•è°ƒé˜Ÿåˆ—ä¸ºäº†ç»´æŠ¤å…¶å•è°ƒæ€§ï¼Œä¼šä»<strong>é˜Ÿå°¾</strong>æ’å…¥æ–°å…ƒç´ ï¼Œä½†å¯èƒ½ä¼šä»<strong>é˜Ÿå°¾</strong>æˆ–<strong>é˜Ÿé¦–</strong>åˆ é™¤å…ƒç´ ã€‚</p><ul><li><strong>å•è°ƒé€’å¢é˜Ÿåˆ—</strong>ï¼šä»é˜Ÿé¦–åˆ°é˜Ÿå°¾ï¼Œå…ƒç´ æ˜¯å•è°ƒé€’å¢çš„ã€‚å¸¸ç”¨äºç»´æŠ¤<strong>æ»‘åŠ¨çª—å£çš„æœ€å°å€¼</strong>ã€‚</li><li><strong>å•è°ƒé€’å‡é˜Ÿåˆ—</strong>ï¼šä»é˜Ÿé¦–åˆ°é˜Ÿå°¾ï¼Œå…ƒç´ æ˜¯å•è°ƒé€’å‡çš„ã€‚å¸¸ç”¨äºç»´æŠ¤<strong>æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼</strong>ã€‚</li></ul><p>æ ¸å¿ƒæ€æƒ³ï¼šåœ¨éå†åºåˆ—çš„è¿‡ç¨‹ä¸­ï¼Œç»´æŠ¤ä¸€ä¸ªâ€œå€™é€‰å…ƒç´ é›†åˆâ€ã€‚æ–°å…ƒç´ åŠ å…¥æ—¶ï¼Œä¼šâ€œæ·˜æ±°â€æ‰é˜Ÿåˆ—ä¸­æ‰€æœ‰ä¸å¯èƒ½æˆä¸ºæœªæ¥çª—å£æå€¼çš„å…ƒç´ ï¼ˆä»é˜Ÿå°¾å¼€å§‹æ·˜æ±°ï¼‰ï¼Œä»¥ä¿è¯é˜Ÿåˆ—çš„å•è°ƒæ€§ã€‚åŒæ—¶ï¼Œéœ€è¦æ£€æŸ¥é˜Ÿé¦–å…ƒç´ æ˜¯å¦å·²ç»æ»‘å‡ºçª—å£ï¼Œå¹¶åŠæ—¶ç§»é™¤ã€‚</p><hr><p>å•è°ƒé˜Ÿåˆ—å‡ ä¹æ˜¯ä¸º<strong>æ»‘åŠ¨çª—å£</strong> é—®é¢˜é‡èº«å®šåšçš„æ•°æ®ç»“æ„ï¼Œä»¥<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/sliding-window-maximum/">æ»‘åŠ¨çª—å£æœ€å¤§å€¼</a>é—®é¢˜ä¸ºä¾‹ï¼Œåˆ†æå•è°ƒé˜Ÿåˆ—çš„å·¥ä½œæµç¨‹ã€‚</p><p>ç”±äºè¦æ±‚æœ€å¤§å€¼ï¼Œå› æ­¤ä½¿ç”¨ä¸€ä¸ª<strong>å•è°ƒé€’å‡é˜Ÿåˆ—</strong>ï¼ˆæ±‚æœ€å°å€¼ç”¨é€’å¢é˜Ÿåˆ—ï¼‰ã€‚é˜Ÿåˆ—ä¸­å­˜å‚¨çš„æ˜¯å…ƒç´ çš„<strong>ç´¢å¼•</strong>ï¼Œå› ä¸ºç´¢å¼•å¯ä»¥åŒæ—¶æä¾›<strong>å€¼</strong>å’Œ<strong>ä½ç½®</strong>ä¿¡æ¯ï¼Œåè€…å¯¹äºåˆ¤æ–­å…ƒç´ æ˜¯å¦æ»‘å‡ºçª—å£è‡³å…³é‡è¦ã€‚</p><p>éå†æ•°ç»„ <code>nums</code> çš„æ¯ä¸ªç´¢å¼• <code>i</code>ï¼Œåœ¨å…¶ä¸­åšå››ä»¶äº‹ï¼š</p><ul><li><strong>ç»´æŠ¤é˜Ÿé¦–</strong>ï¼šæ£€æŸ¥é˜Ÿé¦–ç´¢å¼•å¯¹åº”çš„å…ƒç´ æ˜¯å¦å·²ç»ä¸åœ¨å½“å‰çª—å£<code>[i - k + 1, i]</code> å†…ã€‚å¦‚æœæ˜¯ï¼Œåˆ™å°†å…¶ä»<strong>é˜Ÿé¦–</strong>å¼¹å‡ºã€‚</li><li><strong>ç»´æŠ¤å•è°ƒæ€§</strong>ï¼šä»<strong>é˜Ÿå°¾</strong>å¼€å§‹ï¼Œå¼¹å‡ºæ‰€æœ‰ å°äºç­‰äº <code>nums[i]</code>çš„å…ƒç´ å¯¹åº”çš„ç´¢å¼•ã€‚å› ä¸ºæ–°æ¥çš„ <code>nums[i]</code> æ›´å¤§ä¸”æ›´æ–°ï¼Œé˜Ÿåˆ—ä¸­æ‰€æœ‰æ¯”å®ƒå°çš„å…ƒç´ éƒ½ä¸å¯èƒ½å†æˆä¸ºæœªæ¥çª—å£çš„æœ€å¤§å€¼ï¼Œæ‰€ä»¥å®ƒä»¬è¢«â€œæ·˜æ±°â€äº†ã€‚</li><li><strong>æ–°å…ƒç´ å…¥é˜Ÿ</strong>ï¼šå°†å½“å‰ç´¢å¼• <code>i</code> åŠ å…¥é˜Ÿå°¾ã€‚</li><li><strong>è®°å½•ç»“æœ</strong>ï¼šå½“ <code>i &gt;= k - 1</code>ï¼ˆå³çª—å£é¦–æ¬¡è¢«å¡«æ»¡åï¼‰ï¼Œæ¯ä¸ªçª—å£çš„æœ€å¤§å€¼å°±æ˜¯å½“å‰é˜Ÿé¦–ç´¢å¼•å¯¹åº”çš„å…ƒç´  ã€‚</li></ul><p>æ—¶é—´å¤æ‚åº¦åˆ†æï¼šç”±äºæ¯ä¸ªå…ƒç´ æœ€å¤šè¢«<strong>å…¥é˜Ÿä¸€æ¬¡</strong>å’Œ<strong>å‡ºé˜Ÿä¸€æ¬¡</strong>ï¼Œå› æ­¤æ•´ä½“æ—¶é—´å¤æ‚åº¦æ˜¯<span class="math inline">\(O(n)\)</span></p><div class="note note-info"><p>å•è°ƒé˜Ÿåˆ—çš„ç²¾é«“åœ¨äº<strong>ä»é˜Ÿå°¾æ·˜æ±°æ— ç”¨å…ƒç´ </strong>ï¼Œ<strong>ä»é˜Ÿé¦–ç§»é™¤è¿‡æœŸå…ƒç´ </strong>ã€‚å®ƒæ˜¯ä¸€ä¸ªâ€œçŸ¥é“å¾—å¤ªå¤šçš„â€æ•°æ®ç»“æ„ï¼Œå®ƒé€šè¿‡å·§å¦™çš„æ·˜æ±°æœºåˆ¶ï¼Œæå‰æ’é™¤äº†é‚£äº›æ°¸è¿œä¸å¯èƒ½æˆä¸ºç­”æ¡ˆçš„å€™é€‰è€…ï¼Œä»è€Œå®ç°äº†é«˜æ•ˆè®¡ç®—ã€‚</p></div><h3 id="æ»‘åŠ¨çª—å£æœ€å¤§å€¼"><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/sliding-window-maximum/">æ»‘åŠ¨çª—å£æœ€å¤§å€¼</a></h3><p><img src="https://gitee.com/cmyk359/img/raw/master/img/æ— æ ‡é¢˜-2025-9-922:55:25.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload style="zoom:80%"></p><p>åŸºæœ¬æ€è·¯ï¼šçª—å£æ¯ç§»åŠ¨ä¸€æ¬¡å°±æ±‚å½“å‰çª—å£ä¸­çš„æœ€å¤§å€¼ï¼Œå°†å„ä¸ªçª—å£ä¸­çš„æœ€å¤§å€¼æ”¶é›†èµ·æ¥å³å¯ã€‚å…³é”®æ˜¯æ±‚æ¯ä¸ªçª—å£ä¸­çš„æœ€å¤§å€¼ã€‚</p><p>æ€è·¯ä¸€ï¼šä½¿ç”¨å®¹é‡ä¸ºkçš„å¤§æ ¹å †å­˜å‚¨çª—å£ä¸­çš„å€¼ï¼Œçª—å£å…ƒç´ çš„æœ€å¤§å€¼å°±æ˜¯å †é¡¶å…ƒç´ ã€‚ä½†æ˜¯éšç€çª—å£ç§»åŠ¨éœ€è¦é¢‘ç¹è°ƒæ•´å †ç»“æ„ã€‚æ¯æ¬¡è°ƒæ•´å †ç»“æ„çš„æ—¶é—´å¤æ‚åº¦æ˜¯è°ƒ<span class="math inline">\(O(k)\)</span>ï¼Œçª—å£å…±è¦ç§»åŠ¨ n-k+1æ¬¡ï¼Œå› æ­¤æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯<span class="math inline">\(O(nk)\)</span>ï¼Œå’Œæš´åŠ›è§£æ³•çš„æ—¶é—´å¤æ‚åº¦ç›¸åŒã€‚åœ¨ k è¾ƒå¤§æ—¶ä¼šå˜å¾—éå¸¸æ…¢ï¼Œå¯èƒ½æ¥è¿‘ <span class="math inline">\(O(nÂ²)\)</span>ï¼Œ</p><blockquote><p>çª—å£æ¯ç§»åŠ¨ä¸€æ¬¡éœ€è¦åˆ é™¤ä»å †ä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œ<u>ç”±äºä¸ä¸€å®šæ˜¯å †é¡¶å…ƒç´ ï¼Œéœ€è¦éå†æŸ¥æ‰¾å †æ•°ç»„æ‰¾åˆ°ä¸‹æ ‡</u>ï¼Œå†ä»å †ä¸­åˆ é™¤ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯<span class="math inline">\(O(k) + O(log_2K)\)</span>ã€‚æœ€åå°†æ–°å…ƒç´ æ’å…¥å †ä¸­å¹¶è°ƒæ•´å †ç»“æ„ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯<span class="math inline">\((O(log_2k))\)</span>ã€‚å› æ­¤ç§»åŠ¨ä¸€æ¬¡çª—å£ï¼Œè°ƒæ•´å †ç»“æ„çš„æ—¶é—´å¤æ‚åº¦æ˜¯<span class="math inline">\(O(k)\)</span>ã€‚</p></blockquote><hr><p>æ€è·¯äºŒï¼šä½¿ç”¨å•è°ƒé˜Ÿåˆ—ã€‚å•è°ƒé˜Ÿåˆ—å‡ ä¹æ˜¯ä¸º<strong>æ»‘åŠ¨çª—å£</strong> é—®é¢˜é‡èº«å®šåšçš„æ•°æ®ç»“æ„ã€‚</p><div class="code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] maxSlidingWindow(<span class="hljs-type">int</span>[] nums, <span class="hljs-type">int</span> k) &#123;
    <span class="hljs-comment">//ä½¿ç”¨åŒç«¯é˜Ÿåˆ—Dequeä½œä¸ºä¼˜å…ˆé˜Ÿåˆ—ï¼Œç”¨äºè®°å½•ç´¢å¼•</span>
    Deque&lt;Integer&gt; queue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayDeque</span>&lt;&gt;(); 
    <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> nums.length;
    <span class="hljs-type">int</span>[] res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n - k + <span class="hljs-number">1</span>];

    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n; i++) &#123;
        <span class="hljs-comment">// æ£€æŸ¥é˜Ÿé¦–æ˜¯å¦å·²è¶…å‡ºçª—å£èŒƒå›´ (i - k + 1 æ˜¯å½“å‰çª—å£çš„å·¦è¾¹ç•Œ)</span>
        <span class="hljs-keyword">if</span> (!queue.isEmpty() &amp;&amp; queue.peek() &lt; i - k + <span class="hljs-number">1</span>) &#123;
            queue.poll();
        &#125;

        <span class="hljs-comment">//ä»é˜Ÿå°¾å¼€å§‹ï¼Œæ·˜æ±°æ‰€æœ‰å°äºå½“å‰å€¼çš„å…ƒç´ ï¼ˆç»´æŠ¤å•è°ƒé€’å‡æ€§ï¼‰</span>
        <span class="hljs-comment">// å°† &lt;= æ”¹ä¸º &gt;=åï¼Œç»´æŠ¤çš„æ˜¯å•è°ƒé€’å¢æ€§ï¼Œå¾—åˆ°çš„å°±æ˜¯å•è°ƒå¢é˜Ÿåˆ—</span>
        <span class="hljs-keyword">while</span>(!queue.isEmpty() &amp;&amp; nums[queue.peekLast()] &lt;= nums[i])&#123;
            queue.pollLast();
        &#125;
        <span class="hljs-comment">//æ–°å…ƒç´ å…¥é˜Ÿ</span>
        queue.offer(i);

        <span class="hljs-comment">// å½“çª—å£å½¢æˆåï¼Œè®°å½•ç»“æœï¼ˆé˜Ÿé¦–å…ƒç´ å³ä¸ºå½“å‰çª—å£æœ€å¤§å€¼çš„ç´¢å¼•ï¼‰</span>
        <span class="hljs-keyword">if</span> (i &gt;= k - <span class="hljs-number">1</span>)&#123;
            res[i - k + <span class="hljs-number">1</span>] = nums[queue.peek()];
        &#125;
    &#125;
    <span class="hljs-keyword">return</span> res;
&#125;</code></pre></div><h2 id="å•è°ƒæ ˆ">å•è°ƒæ ˆ</h2><p><strong>å•è°ƒæ ˆ</strong>æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ ˆç»“æ„ï¼Œå®ƒè¦æ±‚æ ˆå†…çš„å…ƒç´ ï¼ˆæˆ–å…ƒç´ çš„æŸç§å±æ€§ï¼‰å§‹ç»ˆä¿æŒ<strong>å•è°ƒæ€§</strong>ã€‚</p><ul><li><strong>å•è°ƒé€’å¢æ ˆ</strong>ï¼šä»æ ˆé¡¶åˆ°æ ˆåº•ï¼Œå…ƒç´ æ˜¯å•è°ƒé€’å¢çš„ï¼ˆæˆ–éé€’å‡çš„ï¼‰ã€‚</li><li><strong>å•è°ƒé€’å‡æ ˆ</strong>ï¼šä»æ ˆé¡¶åˆ°æ ˆåº•ï¼Œå…ƒç´ æ˜¯å•è°ƒé€’å‡çš„ï¼ˆæˆ–éé€’å¢çš„ï¼‰ã€‚</li></ul><p>å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>åœ¨éå†ä¸€ä¸ªåºåˆ—ï¼ˆå¦‚æ•°ç»„ï¼‰æ—¶ï¼Œåˆ©ç”¨æ ˆæ¥ç»´æŠ¤ä¸€ä¸ªâ€œå¾…å®šçš„å€™é€‰å…ƒç´ é›†åˆâ€ã€‚å½“æ–°å…ƒç´ åˆ°æ¥æ—¶ï¼Œé€šè¿‡ä¸æ–°å…ƒç´ æ¯”è¾ƒï¼Œå¯ä»¥ç¡®å®šæ ˆä¸­å“ªäº›å€™é€‰å…ƒç´ çš„ç­”æ¡ˆå°±æ˜¯è¿™ä¸ªæ–°å…ƒç´ ï¼Œä»è€Œå°†å®ƒä»¬å¼¹å‡ºå¹¶è®°å½•ç»“æœï¼Œæœ€åå†å°†æ–°å…ƒç´ å…¥æ ˆï¼Œä»¥ä¿æŒæ ˆçš„å•è°ƒæ€§ã€‚</strong></p><p>æ ˆä¸­å­˜å‚¨çš„é€šå¸¸æ˜¯<strong>ç´¢å¼•</strong>ï¼Œå› ä¸ºç´¢å¼•å¯ä»¥è·å–å€¼ï¼Œè¿˜å¯ä»¥è®¡ç®—å®½åº¦ã€è·ç¦»ç­‰ä¿¡æ¯ã€‚</p><p>å¦‚ä½•é€‰æ‹©å•è°ƒæ€§ï¼šæ‰¾â€œ<strong>æ›´å¤§â€</strong>ç”¨â€œ<strong>å¢</strong>â€æ ˆï¼Œæ‰¾â€œ<strong>æ›´å°</strong>â€ç”¨â€œ<strong>å‡</strong>â€æ ˆã€‚å¦‚æœæƒ³è¦æ‰¾æ›´å¤§çš„ï¼Œå †é¡¶å°±å¾—æ˜¯æœ€å°çš„ï¼ˆå•è°ƒé€’å¢ï¼‰ï¼Œè¿™æ ·æ‰èƒ½ä¸€é‡åˆ°å¤§çš„å°±è§¦å‘æ“ä½œï¼›æ‰¾æ›´å°çš„åŒç†ã€‚</p><p>æ ˆçš„æ ¸å¿ƒä½œç”¨æ˜¯ä»¥æŸç§é¡ºåºï¼ˆé€’å¢æˆ–é€’å‡ï¼‰ä¿å­˜ä¹‹å‰å·²ç»éå†è¿‡çš„å…ƒç´ ï¼Œæˆ–è€…è¯´<strong>å°šæœªæ‰¾åˆ°ç­”æ¡ˆçš„å€™é€‰å…ƒç´ </strong>ï¼Œå°†å½“å‰å…ƒç´ ä¸æ ˆé¡¶å…ƒç´ å¯¹æ¯”ï¼Œå¿«é€Ÿæ‰¾åˆ°æ ˆé¡¶å…ƒç´ ä¹‹å‰æˆ–ä¹‹åæ»¡è¶³æŸç§å¤§å°å…³ç³»çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</p><p>å®ƒæ“…é•¿è§£å†³ä»¥ä¸‹ç±»å‹çš„é—®é¢˜ï¼š</p><ul><li>ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼šæ‰¾å‡ºæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å³è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„å…ƒç´ ã€‚</li><li>ä¸‹ä¸€ä¸ªæ›´å°å…ƒç´ ï¼šæ‰¾å‡ºæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å³è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„å…ƒç´ ã€‚</li><li>ä¸Šä¸€ä¸ªæ›´å¤§/æ›´å°å…ƒç´ ï¼šæ‰¾å‡ºå·¦è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§æˆ–å°çš„å…ƒç´ ã€‚</li><li>è¡ç”Ÿé—®é¢˜ï¼šå¦‚ã€ŒæŸ±çŠ¶å›¾ä¸­çš„æœ€å¤§çŸ©å½¢ã€ã€ã€Œæ¥é›¨æ°´ã€ç­‰ï¼Œå…¶æ ¸å¿ƒéƒ½å¯è½¬åŒ–ä¸ºå¯»æ‰¾æ¯ä¸ªå…ƒç´ ä¸¤è¾¹çš„è¾¹ç•Œï¼ˆç¬¬ä¸€ä¸ªæ¯”å®ƒå°æˆ–å¤§çš„å…ƒç´ ï¼‰ã€‚</li></ul><hr><p>ä»¥æœ€ç»å…¸çš„ <strong>â€œä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ â€</strong> é—®é¢˜ä¸ºä¾‹ï¼Œåˆ†æå•è°ƒæ ˆï¼ˆæ­¤å¤„ä½¿ç”¨<strong>å•è°ƒé€’å‡æ ˆ</strong>ï¼‰çš„å·¥ä½œåŸç†ã€‚</p><p>ç›®æ ‡ï¼šå¯¹äºæ•°ç»„ <code>nums</code> ä¸­çš„æ¯ä¸ªå…ƒç´  <code>nums[i]</code>ï¼Œæ‰¾åˆ°å…¶å³è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„å…ƒç´ <code>nums[j]</code></p><p>åˆ›å»ºä¸€ä¸ªç©ºæ ˆ <code>stack</code>ï¼Œç”¨äºå­˜å‚¨å…ƒç´ çš„ç´¢å¼•ã€‚</p><p>éå†æ•°ç»„ <code>nums</code> çš„æ¯ä¸ªç´¢å¼• <code>i</code>ï¼š</p><ul><li><strong>ç»´æŠ¤å•è°ƒæ€§</strong>ï¼šå½“æ ˆä¸ä¸ºç©ºï¼Œä¸”å½“å‰å…ƒç´  <code>nums[i]</code> å¤§äºæ ˆé¡¶ç´¢å¼•å¯¹åº”çš„å…ƒç´  ï¼Œè¿™æ„å‘³ç€å½“å‰å…ƒç´  <code>nums[i]</code> æ­£æ˜¯æ ˆé¡¶ç´¢å¼•å¯¹åº”å…ƒç´ çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œæ­¤æ—¶å¼¹å‡ºæ ˆé¡¶ç´¢å¼•å¹¶è®°å½•ç»“æœã€‚é‡å¤ä»¥ä¸Šè¿‡ç¨‹ï¼Œç›´åˆ°â€œæ·˜æ±°â€æ‰æ‰€æœ‰æ¯”å½“å‰å…ƒç´ å°ä¸”å·²æ‰¾åˆ°ç­”æ¡ˆçš„å…ƒç´ ã€‚</li><li><strong>æ–°å…ƒç´ å…¥æ ˆ</strong>ï¼šå°†å½“å‰ç´¢å¼• <code>i</code> å‹å…¥æ ˆä¸­ã€‚å½“å‰å…ƒç´  <code>nums[i]</code> ç°åœ¨æˆä¸ºäº†æ–°çš„â€œå€™é€‰è€…â€ï¼Œå®ƒéœ€è¦ç­‰å¾…åç»­çš„å…ƒç´ æ¥ä¸ºè‡ªå·±æä¾›ç­”æ¡ˆã€‚</li></ul><p>éå†ç»“æŸåï¼Œæ ˆä¸­å¯èƒ½è¿˜å‰©ä½™ä¸€äº›å…ƒç´ ã€‚è¿™äº›å…ƒç´ æ„å‘³ç€åœ¨æ•´ä¸ªæ•°ç»„ä¸­ï¼Œå®ƒä»¬çš„å³è¾¹<strong>ä¸å­˜åœ¨æ¯”å®ƒä»¬æ›´å¤§çš„å…ƒç´ </strong>ã€‚</p><p>æ—¶é—´å¤æ‚åº¦åˆ†æï¼šæ¯ä¸ªå…ƒç´ <strong>æœ€å¤šåªä¼šè¢«å‹å…¥æ ˆä¸€æ¬¡å’Œå¼¹å‡ºæ ˆä¸€æ¬¡</strong>ï¼Œæ•´ä¸ªè¿‡ç¨‹çš„å¼¹å‡ºå’Œå‹å…¥æ“ä½œæ€»æ•°ä¸æ•°ç»„é•¿åº¦ <code>n</code> æˆçº¿æ€§å…³ç³»ã€‚å› æ­¤ä½¿ç”¨å•è°ƒæ ˆè§£å†³é—®é¢˜çš„æ—¶é—´å¤æ‚åº¦ä¸º<span class="math inline">\(O(n)\)</span></p><div class="note note-info"><p>æ ˆå†…å­˜å‚¨çš„æ˜¯ä¸€ç³»åˆ—<strong>å°šæœªæ‰¾åˆ°â€œä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ â€çš„å€™é€‰è€…çš„ç´¢å¼•</strong>ã€‚è¿™äº›å€™é€‰è€…æŒ‰ç…§ä»é¡¶åˆ°åº•ã€å€¼é€æ¸å˜å¤§çš„é¡ºåºæ’åˆ—ï¼ˆå•è°ƒé€’å¢ï¼‰ã€‚å½“ä¸€ä¸ª<strong>æ›´å¤§</strong>çš„æ–°å…ƒç´  <code>nums[i]</code> åˆ°æ¥æ—¶ï¼Œå®ƒå°±åƒä¸€æŠŠâ€œé’¥åŒ™â€ï¼Œå¯ä»¥è§£é”ï¼ˆå¼¹å‡ºï¼‰æ ˆä¸­æ‰€æœ‰æ¯”å®ƒå°çš„å…ƒç´ ï¼Œå¹¶æˆä¸ºå®ƒä»¬çš„ç­”æ¡ˆã€‚</p></div><h3 id="æ¯æ—¥æ¸©åº¦"><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/daily-temperatures/">æ¯æ—¥æ¸©åº¦</a></h3><p><img src="https://gitee.com/cmyk359/img/raw/master/img/image-20250911115015025-2025-9-1111:50:18.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload style="zoom:80%"></p><p>æ€è·¯ï¼šä½¿ç”¨ å•è°ƒé€’å¢æ ˆ å­˜å‚¨æ¯å¤©æ¸©åº¦å¯¹åº”çš„ç´¢å¼•ã€‚åˆ›å»ºä¸å¤©æ•°ç›¸åŒå¤§å°çš„æ•°ç»„reså­˜å‚¨æœ€ç»ˆç»“æœï¼Œåˆå§‹åŒ–ä¸º0ï¼Œè¡¨ç¤ºæ²¡æœ‰æ¯”å½“å¤©æ¸©åº¦æ›´é«˜çš„äº†ã€‚</p><p>éå†temperaturesæ•°ç»„ï¼š</p><ul><li><p>è‹¥æ ˆä¸ºç©ºï¼Œå½“å‰å…ƒç´ çš„ç´¢å¼•å…¥æ ˆã€‚</p></li><li><p>è‹¥æ ˆä¸ä¸ºç©ºï¼Œå¼¹å‡ºæ ˆé¡¶æ‰€æœ‰æ¯”å½“å‰å…ƒç´ å° çš„å…ƒç´ å¯¹åº” çš„ç´¢å¼•ï¼Œæ ˆé¡¶å…ƒç´ ä¸å³ä¾§ç¬¬ä¸€ä¸ªæ¯”å®ƒçš„å…ƒç´ çš„è·ç¦»ï¼Œå°±æ˜¯ä¸¤è€…æ˜¯ç´¢å¼•çš„å·®å€¼ï¼›æœ€åå°†å½“å‰å…ƒç´ çš„ç´¢å¼•å…¥æ ˆã€‚</p></li></ul><p>éå†å®Œåå¯èƒ½æ ˆä¸­è¿˜æœ‰ç´¢å¼•å‰©ä½™ï¼Œå®ƒä»¬åœ¨ç»“æœæ•°ç»„ <code>res</code> ä¸­å¯¹åº”çš„å€¼ä¿æŒä¸ºåˆå§‹çš„é»˜è®¤å€¼0ï¼Œæ— éœ€é¢å¤–æ“ä½œã€‚</p><div class="code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] dailyTemperatures(<span class="hljs-type">int</span>[] temperatures) &#123;
    Deque&lt;Integer&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayDeque</span>&lt;&gt;();
    <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> temperatures.length;
    <span class="hljs-type">int</span>[] res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n];

    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n; i++) &#123;
        <span class="hljs-comment">// ç»´æŠ¤å•è°ƒæ€§ï¼šå½“å‰å…ƒç´ å¤§äºæ ˆé¡¶å…ƒç´ æ—¶,å¼¹å‡ºæ ˆé¡¶å…ƒç´ ï¼ˆç´¢å¼•ï¼‰ï¼Œå¹¶è®°å½•ç­”æ¡ˆ</span>
        <span class="hljs-keyword">while</span>(!stack.isEmpty() &amp;&amp; temperatures[i] &gt; temperatures[stack.peek()])&#123;
            <span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> stack.pop();
            res[j] = i - j;
        &#125;
        <span class="hljs-comment">//å½“å‰ç´¢å¼•å…¥æ ˆ</span>
        stack.push(i);
    &#125;
    <span class="hljs-comment">//éå†ç»“æŸï¼Œæ ˆä¸­å‰©ä½™å…ƒç´ çš„reså€¼ä¿æŒä¸º-1ï¼Œè¡¨ç¤ºæ²¡æœ‰æ¯”é‚£ä¸€å¤©æ¸©åº¦æ›´é«˜çš„</span>
    <span class="hljs-keyword">return</span> res;
&#125;</code></pre></div><h3 id="ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -i"><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/next-greater-element-i/">ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I</a></h3><p><img src="https://gitee.com/cmyk359/img/raw/master/img/image-20250911121006649-2025-9-1112:10:08.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload style="zoom:80%"></p><p>å¯¹æ¯” <a target="_blank" rel="noopener" href="https://leetcode.cn/problems/daily-temperatures/">æ¯æ—¥æ¸©åº¦</a>ï¼Œå°±æ˜¯åœ¨å¤–é¢å¤šå¥—äº†ä¸€å±‚ï¼Œéœ€è¦æ‹¿ç€ç¬¬ä¸€ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ ï¼Œåœ¨ç¬¬äºŒä¸ªæ•°ç»„ä¸­æ‰¾å®ƒçš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ã€‚å¤æ‚çš„ç‚¹æ˜¯ï¼šå½“åœ¨ç¬¬äºŒä¸ªæ•°ç»„ä¸­æ‰¾åˆ°äº†ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œéœ€è¦åœ¨ç¬¬ä¸€ä¸ªæ•°ç»„ä¸­æ‰¾åˆ°å…¶ä½ç½®ï¼Œå†å°†æ›´å¤§å…ƒç´ ä¿å­˜åœ¨è¯¥ä½ç½®ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜å¯ä»¥ä½¿ç”¨HashMapåšå…ƒç´ å’Œä½ç½®çš„æ˜ å°„ï¼Œä»è€Œå¿«é€Ÿæ‰¾åˆ°è¦å­˜æ”¾çš„ä½ç½®ã€‚</p><div class="code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] nextGreaterElement(<span class="hljs-type">int</span>[] nums1, <span class="hljs-type">int</span>[] nums2) &#123;
    Deque&lt;Integer&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayDeque</span>&lt;&gt;();
    Map&lt;Integer, Integer&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
    <span class="hljs-type">int</span>[] res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[nums1.length];
    Arrays.fill(res, -<span class="hljs-number">1</span>);
	
    <span class="hljs-comment">// å»ºç«‹æ˜ å°„</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; nums1.length; i++) &#123;
        map.put(nums1[i], i);
    &#125;

    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; nums2.length; i++) &#123;
        <span class="hljs-comment">// 1ã€ç»´æŠ¤å•è°ƒæ€§ï¼šå½“å‰å…ƒç´ å¤§äºæ ˆé¡¶å…ƒç´ æ—¶,å¼¹å‡ºæ ˆé¡¶å…ƒç´ ï¼ˆç´¢å¼•ï¼‰ï¼Œå¹¶è®°å½•ç­”æ¡ˆ</span>
        <span class="hljs-keyword">while</span>(!stack.isEmpty() &amp;&amp; nums2[i] &gt; nums2[stack.peek()]) &#123;
            <span class="hljs-comment">//nums2[j]æ‰¾åˆ°äº†ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„å…ƒç´ </span>
            <span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> stack.pop();
            <span class="hljs-comment">//å¦‚æœnums2[j]æ˜¯ nums1ä¸­çš„å…ƒç´ ï¼Œå°±è®°å½•ç»“æœ</span>
            <span class="hljs-keyword">if</span> (map.containsKey(nums2[j])) &#123; 
                res[map.get(nums2[j])] = nums2[i];
            &#125;
        &#125;
        <span class="hljs-comment">//2ã€ å½“å‰ç´¢å¼•å…¥æ ˆ</span>
        stack.push(i);
    &#125;
    <span class="hljs-comment">//éå†ç»“æŸï¼Œæ ˆä¸­å‰©ä½™å…ƒç´ çš„reså€¼ä¿æŒä¸º-1</span>
    <span class="hljs-keyword">return</span> res;
&#125;</code></pre></div><h3 id="ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -ii"><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/next-greater-element-ii/">ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II</a></h3><p><img src="https://gitee.com/cmyk359/img/raw/master/img/image-20250911154443978-2025-9-1115:44:47.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload style="zoom:80%"></p><p>ç»™å®šçš„numsæ˜¯<strong>å¾ªç¯æ•°ç»„</strong>ï¼Œè¦æ‰¾åˆ°æ¯ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ éœ€è¦éå†numsæ•°ç»„ä¸¤éï¼Œå› æ­¤å¯ä»¥é€šè¿‡æ¨¡è¿ç®—æ¨¡æ‹Ÿæˆç¯ï¼Œå½“éå†æŒ‡é’ˆè¶…å‡ºnumsé•¿åº¦æ—¶ï¼Œé€šè¿‡æ¨¡ä¸Šæ•°ç»„é•¿åº¦è®©å®ƒé‡æ–°æŒ‡å›æ•°ç»„é¦–éƒ¨ã€‚</p><p>ä½¿ç”¨å•è°ƒé€’å¢æ ˆè§£å†³ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ çš„é—®é¢˜ï¼Œæ ˆä¸­å­˜æ”¾çš„æ˜¯å…ƒç´ ç´¢å¼•ã€‚ä¸ºäº†é¿å…é‡å¤è®¡ç®—ï¼Œåªæœ‰åœ¨ç¬¬ä¸€æ¬¡éå†ä¸­æ‰å°†ç´¢å¼•æ”¾å…¥æ ˆä¸­ï¼Œå¯»æ‰¾ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ã€‚</p><div class="code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] nextGreaterElements(<span class="hljs-type">int</span>[] nums) &#123;
    Deque&lt;Integer&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayDeque</span>&lt;&gt;();
    <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> nums.length;
    <span class="hljs-type">int</span>[] res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n];
    Arrays.fill(res, -<span class="hljs-number">1</span>);
    <span class="hljs-type">int</span> index;
    
    <span class="hljs-comment">//éå†ä¸¤éä»¥å¤„ç†å¾ªç¯</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">2</span> * n; i++) &#123;
        index = i % n; <span class="hljs-comment">//å–æ¨¡</span>
        
        <span class="hljs-comment">//ç»´æŠ¤å•è°ƒæ€§ï¼šå½“å‰å…ƒç´ å¤§äºæ ˆé¡¶å…ƒç´ æ—¶,å¼¹å‡ºæ ˆé¡¶å…ƒç´ ï¼ˆç´¢å¼•ï¼‰ï¼Œå¹¶è®°å½•ç­”æ¡ˆ</span>
        <span class="hljs-keyword">while</span> (!stack.isEmpty() &amp;&amp; nums[index] &gt; nums[stack.peek()]) &#123;
            res[stack.pop()] = nums[index]; 
        &#125;

        <span class="hljs-keyword">if</span> (index &lt; n) &#123; <span class="hljs-comment">//åªåœ¨ç¬¬ä¸€æ¬¡éå†æ—¶å‹å…¥ç´¢å¼•</span>
            stack.push(index);
        &#125;
    &#125;
    <span class="hljs-keyword">return</span> res;
&#125;</code></pre></div><h3 id="æ¥é›¨æ°´"><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/trapping-rain-water/">æ¥é›¨æ°´</a></h3><p><img src="https://gitee.com/cmyk359/img/raw/master/img/image-20250911092401377-2025-9-1109:24:29.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload style="zoom:80%"></p><p>åŸºæœ¬æ€è·¯ï¼šé›¨æ°´å­˜åœ¨äºå‡¹æ§½å¤„ï¼Œå°†å„ä¸ªå‡¹æ§½çš„æ°´é‡åŠ èµ·æ¥å³å¯ã€‚</p><p>å¯¹äºæ¯ä¸ªå‡¹æ§½ï¼š</p><ul><li>æ°´é¢é«˜åº¦å–å†³äºä¸¤ä¾§è¾ƒä½çš„æŸ±å­ï¼Œh = min(left , right) - cur</li><li>æ°´é¢å®½åº¦æ˜¯ä¸¤ä¾§æŸ±å­ä¸­é—´çš„è·ç¦»ï¼Œw = rightçš„ä¸‹æ ‡ - leftçš„ä¸‹æ ‡ - 1</li></ul><p>æ•…ä¸€ä¸ªå‡¹æ§½çš„å‚¨æ°´é‡ä¸º h * wã€‚</p><p>é›¨æ°´é‡æœ‰ä¸¤ç§è®¡ç®—æ–¹å¼ï¼šæŒ‰è¡Œè®¡ç®—å’ŒæŒ‰åˆ—è®¡ç®—ã€‚</p><ul><li><p>æŒ‰è¡Œè®¡ç®—ï¼šæ¯æ¬¡è®¡ç®—ä¸€ä¸ªæ°´å¹³æ®µçš„é›¨æ°´é‡ï¼Œå‡¹æ§½çš„è¾¹ç•Œæ˜¯å·¦å³<strong>ç¬¬ä¸€ä¸ª</strong>æ¯”å½“å‰é«˜çš„æŸ±å­</p><p><img src="https://gitee.com/cmyk359/img/raw/master/img/image-20250911214256191-2025-9-1121:42:58.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload style="zoom:80%"></p></li><li><p>æŒ‰åˆ—è®¡ç®—ï¼šæ¯ä¸€åˆ—æŸ±å­ç‹¬ç«‹è®¡ç®—å…¶èƒ½æ¥ä½çš„é›¨æ°´é‡ï¼Œå‡¹æ§½çš„è¾¹ç•Œæ˜¯<strong>å·¦è¾¹æœ€é«˜</strong>å’Œ<strong>å³è¾¹æœ€é«˜</strong>çš„æŸ±å­</p><p><img src="https://gitee.com/cmyk359/img/raw/master/img/image-20250911214322645-2025-9-1121:43:23.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload style="zoom:80%"></p></li></ul><hr><p>æš´åŠ›è§£æ³•</p><p>æ€è·¯ï¼šè®¡ç®—ä»¥æ¯ä¸ªä½ç½®çš„æŸ±å­ä¸ºåº•éƒ¨çš„å‡¹æ§½ æ‰€èƒ½è´¡çŒ®çš„é›¨æ°´é‡ï¼Œå°†å„ä¸ªä½ç½®æ‰€è´¡çŒ®çš„æ°´é‡åŠ èµ·æ¥å³å¯ã€‚</p><p>éå†æ¯ä¸ªæŸ±å­ï¼ŒåŒæ—¶åœ¨å½“å‰å¾ªç¯ä¸­ï¼Œä»å½“å‰ä½ç½®å‘å·¦å‘å³éå†ï¼Œå¯»æ‰¾ä¸¤ä¾§çš„æœ€é«˜æŸ±ï¼Œè®¡ç®—å®ƒä»¬ä¸‰ä¸ªç»„æˆçš„å‡¹æ§½æ‰€èƒ½è´¡çŒ®çš„é›¨æ°´ï¼Œæœ€ç»ˆå°†æ¯ä¸€åˆ—çš„å‚¨æ°´é‡ç´¯åŠ èµ·æ¥å³å¯ã€‚ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªæŸ±å­æ— æ³•æ„é€ å‡¹æ§½ï¼Œåœ¨éå†è¿‡ç¨‹ä¸­å¯ä»¥è·³è¿‡ã€‚</p><p>æ˜¾è€Œæ˜“è§ï¼Œæš´åŠ›è§£æ³•é‡‡ç”¨<strong>æŒ‰åˆ—</strong>æ–¹å¼è®¡ç®—é›¨æ°´é‡ï¼Œæ¯ä¸ªå‡¹æ§½çš„å®½åº¦éƒ½æ˜¯1ï¼Œæ¯åˆ—çš„å‚¨æ°´é‡ = min(left, right) - cur</p><blockquote><p>ç”±äºæ˜¯æŒ‰åˆ—è®¡ç®—é›¨æ°´é‡ï¼Œéœ€è¦å¯»æ‰¾ä¸¤ä¾§æ¯”å½“å‰æŸ±å­é«˜çš„æœ€é«˜æŸ±ï¼Œè€Œéç¬¬ä¸€ä¸ªæ¯”å®ƒé«˜çš„æŸ±å­</p><p><img src="https://gitee.com/cmyk359/img/raw/master/img/image-20250911212950738-2025-9-1121:29:54.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload style="zoom:80%"></p></blockquote><p>å¤æ‚åº¦åˆ†æï¼šå› ä¸ºæ¯æ¬¡éå†åˆ—çš„æ—¶å€™ï¼Œè¿˜è¦å‘ä¸¤è¾¹å¯»æ‰¾æœ€é«˜çš„åˆ—ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸º<span class="math inline">\(O(n^2)\)</span>ï¼Œç©ºé—´å¤æ‚åº¦ä¸º<span class="math inline">\(O(1)\)</span>ã€‚</p><div class="code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">trap</span><span class="hljs-params">(<span class="hljs-type">int</span>[] height)</span> &#123;
    <span class="hljs-type">int</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
    <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> height.length;
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n; i++) &#123;
        <span class="hljs-comment">// ç¬¬ä¸€ä¸ªæŸ±å­å’Œæœ€åä¸€ä¸ªæŸ±å­ä¸æ¥é›¨æ°´</span>
        <span class="hljs-keyword">if</span> (i == <span class="hljs-number">0</span> || i == n - <span class="hljs-number">1</span>)
            <span class="hljs-keyword">continue</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">lHeight</span> <span class="hljs-operator">=</span> height[i]; <span class="hljs-comment">//è®°å½•å·¦ä¾§æ¯”å®ƒé«˜çš„æœ€é«˜æŸ±</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">rHeight</span> <span class="hljs-operator">=</span> height[i]; <span class="hljs-comment">//è®°å½•å³ä¾§æ¯”å®ƒé«˜çš„æœ€é«˜æŸ±</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> i - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; j--) &#123;
            <span class="hljs-keyword">if</span> (height[j] &gt; lHeight)
                lHeight = height[j];
        &#125;

        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> i + <span class="hljs-number">1</span>; j &lt; n; j++) &#123;
            <span class="hljs-keyword">if</span> (height[j] &gt; rHeight)
                rHeight = height[j];
        &#125;

        <span class="hljs-comment">//ç´¯åŠ å½“å‰åˆ—çš„å‚¨æ°´é‡</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">h</span> <span class="hljs-operator">=</span> Math.min(lHeight, rHeight) - height[i];
        <span class="hljs-keyword">if</span> (h &gt; <span class="hljs-number">0</span>) 
            sum += h;
    &#125;

    <span class="hljs-keyword">return</span> sum;
&#125;</code></pre></div><hr><p>åŠ¨æ€è§„åˆ’</p><p>åœ¨æš´åŠ›è§£æ³•ä¸­ï¼Œåªè¦è®°å½•å·¦è¾¹æŸ±å­çš„æœ€é«˜é«˜åº¦ å’Œ å³è¾¹æŸ±å­çš„æœ€é«˜é«˜åº¦ï¼Œå°±å¯ä»¥è®¡ç®—å½“å‰ä½ç½®çš„é›¨æ°´é¢ç§¯ã€‚è€Œä¸ºäº†å¾—åˆ°ä¸¤è¾¹çš„æœ€é«˜é«˜åº¦ï¼Œæ¯åˆ°ä¸€ä¸ªæŸ±å­éƒ½å‘ä¸¤è¾¹éå†ä¸€éï¼Œå…¶ä¸­å­˜åœ¨è®¸å¤šé‡å¤è®¡ç®—ã€‚</p><p>å¯ä»¥æ¯ä¸€ä¸ªä½ç½®çš„å·¦è¾¹æœ€é«˜é«˜åº¦è®°å½•åœ¨ä¸€ä¸ªæ•°ç»„ä¸Šï¼ˆmaxLeftï¼‰ï¼Œå³è¾¹æœ€é«˜é«˜åº¦è®°å½•åœ¨ä¸€ä¸ªæ•°ç»„ä¸Šï¼ˆmaxRightï¼‰ï¼Œè¿™æ ·å°±é¿å…äº†é‡å¤è®¡ç®—ã€‚</p><p>å½“å‰ä½ç½®ï¼Œå·¦è¾¹çš„æœ€é«˜é«˜åº¦ = å‰ä¸€ä¸ªä½ç½®çš„å·¦è¾¹æœ€é«˜é«˜åº¦ ä¸ é«˜åº¦çš„æœ€å¤§å€¼ã€‚å³è¾¹çš„æœ€é«˜é«˜åº¦åŒç†ã€‚</p><div class="code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">trap</span><span class="hljs-params">(<span class="hljs-type">int</span>[] height)</span> &#123;
    <span class="hljs-type">int</span> <span class="hljs-variable">length</span> <span class="hljs-operator">=</span> height.length;
    <span class="hljs-keyword">if</span> (length &lt;= <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    <span class="hljs-type">int</span>[] maxLeft = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[length];
    <span class="hljs-type">int</span>[] maxRight = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[length];

    <span class="hljs-comment">// è®°å½•æ¯ä¸ªæŸ±å­å·¦è¾¹æŸ±å­æœ€å¤§é«˜åº¦ï¼ˆä»å·¦å¾€å³ï¼‰</span>
    maxLeft[<span class="hljs-number">0</span>] = height[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i&lt; length; i++) maxLeft[i] = Math.max(height[i], maxLeft[i-<span class="hljs-number">1</span>]);

    <span class="hljs-comment">// è®°å½•æ¯ä¸ªæŸ±å­å³è¾¹æŸ±å­æœ€å¤§é«˜åº¦ ï¼ˆä»å³å¾€å·¦ï¼‰</span>
    maxRight[length - <span class="hljs-number">1</span>] = height[length - <span class="hljs-number">1</span>];
    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> length - <span class="hljs-number">2</span>; i &gt;= <span class="hljs-number">0</span>; i--) maxRight[i] = Math.max(height[i], maxRight[i+<span class="hljs-number">1</span>]);

    <span class="hljs-comment">// æ±‚å’Œ</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; length; i++) &#123;
        <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> Math.min(maxLeft[i], maxRight[i]) - height[i];
        <span class="hljs-keyword">if</span> (count &gt; <span class="hljs-number">0</span>) sum += count;
    &#125;
    <span class="hljs-keyword">return</span> sum;
&#125;</code></pre></div><p>å¤æ‚åº¦åˆ†æï¼šéœ€è¦ä¸‰æ¬¡éå†heightæ•°ç»„ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º<span class="math inline">\(O(n)\)</span>ã€‚éœ€è¦ä¸¤ä¸ªä¸heightå¤§å°ç›¸åŒçš„æ•°ç»„ï¼Œç©ºé—´å¤æ‚åº¦ä¹Ÿä¸º<span class="math inline">\(O(n)\)</span></p><hr><p>åŒæŒ‡é’ˆæ³•ï¼ˆæœ€ä¼˜è§£ï¼‰</p><p><strong>æ ¸å¿ƒ</strong>ï¼šå¯¹äºæ¯ä¸ªä½ç½®ï¼Œå®ƒèƒ½æ¥çš„é›¨æ°´é‡å–å†³äºå®ƒå·¦å³ä¸¤ä¾§æœ€å¤§é«˜åº¦çš„è¾ƒå°å€¼ï¼ˆæ°´æ¡¶æ•ˆåº”ï¼‰ã€‚</p><p>åŒæŒ‡é’ˆæ³•ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆ <code>left</code> å’Œ <code>right</code> åˆ†åˆ«ä»æ•°ç»„çš„ä¸¤ç«¯å‘ä¸­é—´ç§»åŠ¨ï¼ŒåŒæ—¶ç»´æŠ¤ä¸¤ä¸ªå˜é‡ <code>left_max</code> å’Œ <code>right_max</code>ï¼Œåˆ†åˆ«è®°å½•<u>ä»å·¦ç«¯åˆ° <code>left</code> æŒ‡é’ˆçš„æœ€å¤§é«˜åº¦</u>å’Œ<u>ä»å³ç«¯åˆ° <code>right</code> æŒ‡é’ˆçš„æœ€å¤§é«˜åº¦</u>ã€‚</p><p>åŒæŒ‡é’ˆæ³•çš„æ ¸å¿ƒç­–ç•¥æ˜¯ï¼š<strong>æ€»æ˜¯ç§»åŠ¨é«˜åº¦è¾ƒå°çš„æŒ‡é’ˆ</strong>ã€‚å› ä¸ºè¿™æ ·å¯ä»¥ç¡®ä¿åœ¨å¤„ç†å½“å‰ä½ç½®æ—¶ï¼Œå¦ä¸€ä¾§æœ‰ä¸€ä¸ªæ›´é«˜çš„æŸ±å­ä½œä¸ºâ€œå±éšœâ€ã€‚</p><ul><li>å½“å¤„ç†å·¦æŒ‡é’ˆæ—¶ï¼Œæˆ‘ä»¬çŸ¥é“å³è¾¹è‡³å°‘æœ‰ä¸€ä¸ªæŸ±å­ï¼ˆå½“å‰å³æŒ‡é’ˆï¼‰ä¸ä½äºå·¦è¾¹ä»»ä½•æŸ±å­</li><li>å½“å¤„ç†å³æŒ‡é’ˆæ—¶ï¼Œæˆ‘ä»¬çŸ¥é“å·¦è¾¹è‡³å°‘æœ‰ä¸€ä¸ªæŸ±å­ï¼ˆå½“å‰å·¦æŒ‡é’ˆï¼‰ä¸ä½äºå³è¾¹ä»»ä½•æŸ±å­</li></ul><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦çŸ¥é“å¦ä¸€ä¾§çš„å…¨å±€æœ€å¤§é«˜åº¦ï¼Œåªéœ€è¦çŸ¥é“å½“å‰ä¾§çš„æœ€å¤§é«˜åº¦å³å¯ã€‚</p><p>å…·ä½“æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼Œå½“ left æŒ‡é’ˆå°äºç­‰äº right æŒ‡é’ˆæ—¶ï¼Œæ‰§è¡Œå¾ªç¯ï¼š</p><p>è‹¥ <code>h[left] &lt; h[right]</code>ï¼Œæ¯”è¾ƒå½“å‰æŸ±å­é«˜åº¦ ä¸ å·¦è¾¹æœ€å¤§é«˜åº¦ï¼š</p><ul><li>å¦‚æœ <code>h[left] &gt;= left_max</code>ï¼Œå½“å‰æŸ±å­æ¯”ä¹‹å‰çš„å·¦è¾¹æœ€å¤§å€¼å¤§ï¼Œæ— æ³•ç§¯æ°´ã€‚æ›´æ–°å·¦ä¾§æœ€å¤§å€¼ä¸ºå½“å‰æŸ±å­é«˜åº¦</li><li>å¦åˆ™ï¼Œè®¡ç®—å½“å‰ä½ç½®èƒ½æ¥çš„é›¨æ°´é‡ <code>left_max - h[left]</code>å¹¶ç´¯åŠ åˆ°æ€»å’Œä¸­</li><li>left++</li></ul><p>å¦åˆ™ï¼Œæ¯”è¾ƒå½“å‰æŸ±å­é«˜åº¦ ä¸ å³è¾¹æœ€å¤§é«˜åº¦</p><ul><li>å¦‚æœ <code>h[right] &gt;= right_max</code>ï¼Œæ›´æ–° <code>right_max = h[right]</code></li><li>å¦åˆ™ï¼Œè®¡ç®—å½“å‰ä½ç½®èƒ½æ¥çš„é›¨æ°´é‡ï¼š<code>right_max - h[right]</code> å¹¶ç´¯åŠ åˆ°æ€»å’Œä¸­</li><li>right--</li></ul><p>å¤æ‚åº¦åˆ†æï¼šä¸¤ä¸ªæŒ‡é’ˆç§»åŠ¨çš„è·ç¦»æ€»å’Œå°±æ˜¯ç»™å®šæŸ±å­çš„ä¸ªæ•°nï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º<span class="math inline">\(O(n)\)</span>ï¼Œç”±äºæ²¡æœ‰ä½¿ç”¨é¢å¤–çš„è¾…åŠ©ç©ºé—´ï¼Œç©ºé—´å¤æ‚åº¦ä¸º<span class="math inline">\(O(1)\)</span></p><div class="code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">trap</span><span class="hljs-params">(<span class="hljs-type">int</span>[] height)</span> &#123;
    <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> height.length;
    <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;

    <span class="hljs-type">int</span> <span class="hljs-variable">left</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>, right = n - <span class="hljs-number">1</span>;
    <span class="hljs-type">int</span> <span class="hljs-variable">left_max</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>, right_max = <span class="hljs-number">0</span>; <span class="hljs-comment">//è®°å½•å·¦å³ä¸¤ä¾§çš„æœ€å¤§å€¼</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;

    <span class="hljs-keyword">while</span> (left &lt;= right) &#123;
        <span class="hljs-keyword">if</span> (height[left] &lt; height[right]) &#123;
            height[left] &gt;= left_max ? left_max = height[left] : sum += (left_max - height[left]);
            left++;
        &#125; <span class="hljs-keyword">else</span> &#123; 
            height[right] &gt;= right_max ? right_max = height[right] :sum += (right_max - height[right]);
            right--;
        &#125;
    &#125;
    <span class="hljs-keyword">return</span> sum;

&#125;</code></pre></div><hr><p>ä½¿ç”¨å•è°ƒæ ˆ</p><p>å•è°ƒæ ˆä½¿ç”¨<strong>æŒ‰è¡Œæ–¹å¼</strong>è®¡ç®—é›¨æ°´é‡ï¼Œå…³é”®æ˜¯ä»å½“å‰ä½ç½®å‘å·¦å¯»æ‰¾ç¬¬ä¸€ä¸ªæ¯”å®ƒé«˜çš„æŸ±å­ï¼Œå‘å³å¯»æ‰¾ç¬¬ä¸€ä¸ªæ¯”å®ƒé«˜çš„æŸ±å­ï¼Œè®¡ç®—å®ƒä»¬ä¸‰ä¸ªæ‰€ç»„æˆçš„å‡¹æ§½çš„ç§¯æ°´é‡ã€‚</p><p>æ€è·¯ï¼šç»´æŠ¤ä¸€ä¸ªå•è°ƒé€’å¢æ ˆï¼Œæ ˆä¸­å­˜å‚¨çš„æ˜¯æ¯ä¸ªæŸ±å­çš„ç´¢å¼•ã€‚åœ¨éå†æ•°ç»„æ—¶ï¼Œæ¯å½“é‡åˆ°ä¸€ä¸ªæ¯”æ ˆé¡¶æŸ±å­é«˜çš„æŸ±å­ï¼Œå°±è¯´æ˜å½¢æˆäº†ä¸€ä¸ªå‡¹æ§½ã€‚</p><ul><li>æ ˆé¡¶çš„æŸ±å­æ˜¯å‡¹æ§½åº•éƒ¨</li><li>å½“å‰çš„éå†æŸ±å­æ˜¯å‡¹æ§½çš„å³è¾¹ç•Œï¼ˆå³ä¾§ç¬¬ä¸€ä¸ªæ¯”å®ƒé«˜çš„ï¼‰</li><li>å°†å½“å‰æ ˆé¡¶å…ƒç´ å¼¹å‡ºåï¼Œæ–°çš„æ ˆé¡¶å…ƒç´ æ˜¯å·¦è¾¹ç•Œï¼ˆå·¦ä¾§ç¬¬ä¸€ä¸ªæ¯”å®ƒé«˜çš„ï¼‰<ul><li>æ³¨ï¼šæ­¤æ—¶ä¸è¦é”™å°†æ ˆé¡¶å¼¹å‡ºäº†ï¼Œåªè¦å–åˆ°å€¼å³å¯</li></ul></li></ul><p>è®¡ç®—æ¯ä¸ªå‡¹æ§½çš„å‚¨æ°´é‡ï¼Œç´¯åŠ èµ·æ¥å³å¯ã€‚</p><p><img src="https://gitee.com/cmyk359/img/raw/master/img/image-20250912110107459-2025-9-1211:01:43.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload style="zoom:80%"></p><p>ä¸ä¸Šé¢æ–¹æ³•ä¸åŒçš„æ˜¯ç¬¬ä¸€ä¸ªæŸ±å­å’Œæœ€åä¸€ä¸ªæŸ±å­ä¸èƒ½è·³è¿‡ï¼Œå› ä¸ºå®ƒä»¬å¯èƒ½æ˜¯æŸä¸ªå‡¹æ§½çš„å·¦è¾¹ç•Œå’Œå³è¾¹ç•Œã€‚</p><p>å¤æ‚åº¦åˆ†æï¼šæ¯ä¸ªæŸ±å­æœ€å¤šåªä¼šè¢«å‹å…¥æ ˆä¸€æ¬¡å’Œå¼¹å‡ºæ ˆä¸€æ¬¡ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯<span class="math inline">\(O(n)\)</span>ï¼›ç”±äºä½¿ç”¨äº†æ ˆå­˜å‚¨æ‰€æœ‰å¯èƒ½æ„æˆå‡¹æ§½çš„å…ƒç´ ï¼Œç©ºé—´å¤æ‚åº¦ä¹Ÿæ˜¯<span class="math inline">\(O(n)\)</span></p><div class="code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">trap</span><span class="hljs-params">(<span class="hljs-type">int</span>[] height)</span> &#123;
    Deque&lt;Integer&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayDeque</span>();
    <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> height.length;
    <span class="hljs-keyword">if</span> (n &lt; <span class="hljs-number">3</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; <span class="hljs-comment">//è‡³å°‘è¦ä¸‰ä¸ªæŸ±å­æ‰å¯èƒ½æ¥ä½é›¨æ°´</span>

    <span class="hljs-type">int</span> <span class="hljs-variable">sum</span>  <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n; i++) &#123;
        <span class="hljs-keyword">while</span>(!stack.isEmpty() &amp;&amp; height[i] &gt; height[stack.peek()]) &#123;
            <span class="hljs-comment">//æ‰¾åˆ°äº†ä¸€ä¸ªå‡¹æ§½</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">bottom</span> <span class="hljs-operator">=</span> stack.pop();
            <span class="hljs-keyword">if</span> (stack.isEmpty()) <span class="hljs-keyword">break</span>; <span class="hljs-comment">//ä¸å­˜åœ¨å·¦è¾¹ç•Œï¼Œæ— æ³•ç»„æˆå‡¹æ§½</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">leftIndex</span> <span class="hljs-operator">=</span> stack.peek(); <span class="hljs-comment">//***æ³¨æ„ï¼Œæ­¤æ—¶å·¦è¾¹ç•Œä¸ç”¨å¼¹å‡ºï¼Œåªè¦å–åˆ°å®ƒçš„å€¼å°±è¡Œ</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">w</span> <span class="hljs-operator">=</span> i - leftIndex - <span class="hljs-number">1</span>; <span class="hljs-comment">//å‡¹æ§½çš„å®½åº¦</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">h</span> <span class="hljs-operator">=</span> Math.min(height[i], height[leftIndex]) - height[bottom]; <span class="hljs-comment">//å‡¹æ§½çš„é«˜åº¦</span>
            sum += w * h; <span class="hljs-comment">//ç´¯åŠ æ¯ä¸ªå‡¹æ§½çš„å‚¨æ°´é‡</span>
        &#125;
        stack.push(i);
    &#125;
    <span class="hljs-keyword">return</span> sum;
&#125;</code></pre></div><h3 id="æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢"><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/largest-rectangle-in-histogram/">æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢</a></h3><p><img src="https://gitee.com/cmyk359/img/raw/master/img/image-20250911224840034-2025-9-1122:48:41.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload style="zoom:80%"></p><p>æ€è·¯ï¼šè®¡ç®—ä»¥æ¯ä¸ªæŸ±å­ä¸ºåŸºå‡†æ‰€èƒ½å‹¾å‹’å‡ºæ¥çš„æœ€å¤§çŸ©å½¢çš„é¢ç§¯ï¼Œå–å…¶ä¸­çš„æœ€å¤§å€¼å³å¯ã€‚</p><p>ä»¥æŸä¸ªæŸ±å­çš„é«˜åº¦ä¸ºåŸºå‡†æ‰€èƒ½å‹¾å‹’å‡ºæ¥çš„æœ€å¤§çŸ©å½¢ï¼Œå–å†³äºè¿™ä¸ªçŸ©å½¢çš„è¾¹ç•Œåœ¨å“ªï¼Œå³è¿™ä¸ªçŸ©å½¢æœ‰å¤šå®½ã€‚</p><p>ä»¥ç¤ºä¾‹ä¸­é«˜åº¦ä¸º1çš„æŸ±å­ä¸ºä¾‹ï¼Œå·¦ä¾§æ²¡æœ‰æ¯”å®ƒä½çš„ï¼Œå³ä¾§ä¹Ÿæ²¡æœ‰æ¯”å®ƒä½çš„ï¼Œå› æ­¤ä»¥é«˜åº¦ä¸º1çš„æŸ±å­ä¸ºåŸºå‡†æ‰€èƒ½å‹¾å‹’å‡ºçš„æœ€å¤§çŸ©å½¢çš„å®½åº¦ä¸º6ï¼Œé¢ç§¯ä¸º1*6ï¼›å†ä»¥é«˜åº¦ä¸º5çš„æŸ±å­ä¸ºä¾‹ï¼Œå·¦ä¾§ç¬¬ä¸€ä¸ªæ¯”å®ƒä½çš„æŸ±å­ï¼ˆå·¦è¾¹ç•Œï¼‰ä¸‹æ ‡ä¸º1ï¼Œå³ä¾§ç¬¬ä¸€ä¸ªæ¯”å®ƒä½çš„æŸ±å­ï¼ˆæœ‰è¾¹ç•Œï¼‰ä¸‹æ ‡ä¸º4ï¼Œå› æ­¤ä»¥è¯¥æŸ±å­ä¸ºåŸºå‡†æ‰€èƒ½å‹¾å‹’å‡ºçš„æœ€å¤§çŸ©å½¢çš„å®½åº¦ä¸º 4 -1 -1ï¼Œå³å·¦å³ä¸¤ä¾§ç¬¬ä¸€ä¸ªæ¯”å®ƒä½çš„æŸ±å­ä¹‹é—´çš„è·ç¦»ã€‚</p><p>å› æ­¤å…³é”®æ˜¯æ±‚ä¸€ä¸ªæ•°å·¦å³ä¸¤ä¾§ç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„æ•°ï¼Œè¿™æ˜¯å•è°ƒæ ˆåº”ç”¨çš„ç»å…¸åœºæ™¯ï¼Œä¸ä¹‹å‰çš„æ¥é›¨æ°´é—®é¢˜å¾ˆç›¸ä¼¼ã€‚</p><p>ä½¿ç”¨ä¸€ä¸ª<strong>å•è°ƒé€’å‡æ ˆ</strong>ï¼Œæ ˆä¸­å­˜æ”¾æ¯ä¸ªæŸ±å­çš„ç´¢å¼•ã€‚åœ¨éå†æ•°ç»„æ—¶ï¼Œæ¯å½“é‡åˆ°ä¸€ä¸ªæ¯”æ ˆé¡¶ä½çš„æŸ±å­ï¼Œæ ˆé¡¶æŸ±å­å³ä¾§ç¬¬ä¸€ä¸ªæ¯”å®ƒä½çš„æŸ±å­å°±æ‰¾åˆ°äº†ï¼Œå°†æ ˆé¡¶å…ƒç´ å‡ºæ ˆåï¼Œæ–°çš„æ ˆé¡¶æŸ±å­å°±æ˜¯å®ƒå·¦ä¾§ç¬¬ä¸€ä¸ªæ¯”å®ƒä½çš„æŸ±å­ï¼Œè¿™æ ·ä»¥æ ˆé¡¶å…ƒç´ ä¸ºåŸºå‡†çš„æœ€å¤§çŸ©å½¢çš„é¢ç§¯å°±å¯ä»¥è®¡ç®—äº†ã€‚æ¯ä¸ªæŸ±å­éƒ½ä¼šå…¥æ ˆä¸€æ¬¡ï¼Œè®¡ç®—ä»¥æ¯ä¸ªæŸ±å­ä¸ºåŸºå‡†çš„æœ€å¤§çŸ©å½¢é¢ç§¯ï¼Œå–æœ€å¤§å€¼å³å¯ã€‚</p><p>è¿™æ ·çœ‹æ¥ï¼Œæœ¬é¢˜çš„æ€è·¯ä¸æ¥é›¨æ°´çš„æ€è·¯å®Œå…¨ç›¸åŒï¼Œä½†æœ¬é¢˜åœ¨å…·ä½“å¤„ç†ä¸Šä¹Ÿæœ‰å®ƒçš„ç‹¬ç‰¹ä¹‹å¤„ï¼šæ¥é›¨æ°´é—®é¢˜ä¸­ä¸€ä¸ªæŸ±å­å¯ä»¥æ²¡æœ‰å®ƒçš„å·¦è¾¹ç•Œå’Œå³è¾¹ç•Œï¼Œæ­¤æ—¶å®ƒçš„å‚¨æ°´é‡ä¸º0ï¼›ä½†çŸ©å½¢é¢ç§¯è®¡ç®—å¿…é¡»ä¾èµ–å·¦å³è¾¹ç•Œï¼Œå¦åˆ™å°±æ— æ³•è®¡ç®—å®½åº¦ã€‚å› æ­¤ä¸ºäº†é¿å…è¿™ç§æƒ…å†µçš„å‡ºç°ï¼Œ<strong>éœ€è¦æ‰‹åŠ¨ç»™æ•°ç»„é¦–å°¾åŠ 0</strong>.</p><p><img src="https://gitee.com/cmyk359/img/raw/master/img/image-20250912120452068-2025-9-1212:04:58.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload alt="é¦–éƒ¨åŠ 0ï¼Œä¿è¯æ¯ä¸ªå…ƒç´ éƒ½æœ‰å·¦è¾¹ç•Œ" style="zoom:80%"></p><p><img src="https://gitee.com/cmyk359/img/raw/master/img/image-20250912121530252-2025-9-1212:15:31.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload alt="å°¾éƒ¨åŠ 0ï¼Œä¿è¯æ¯ä¸ªå…ƒç´ æœ‰å³è¾¹ç•Œ" style="zoom:80%"></p><div class="code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">largestRectangleArea</span><span class="hljs-params">(<span class="hljs-type">int</span>[] heights)</span> &#123;
    <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> heights.length;
    <span class="hljs-keyword">if</span> (n == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> heights[<span class="hljs-number">0</span>];
    <span class="hljs-comment">//å•è°ƒé€’å‡æ ˆ</span>
    Deque&lt;Integer&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayDeque</span>&lt;&gt;();
    <span class="hljs-type">int</span> <span class="hljs-variable">maxArea</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;

    <span class="hljs-comment">//ç»™åŸæ•°ç»„é¦–å°¾åŠ 0</span>
    <span class="hljs-type">int</span>[] nh = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n+<span class="hljs-number">2</span>];
    nh[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n; i++) &#123;
        nh[i+<span class="hljs-number">1</span>] = heights[i];
    &#125;
    nh[n+<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;


    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n+<span class="hljs-number">2</span>; i++) &#123;
        <span class="hljs-keyword">while</span> (!stack.isEmpty() &amp;&amp; nh[i] &lt; nh[stack.peek()]) &#123;
            <span class="hljs-type">int</span> <span class="hljs-variable">cur</span> <span class="hljs-operator">=</span> stack.pop();
            <span class="hljs-type">int</span> <span class="hljs-variable">w</span> <span class="hljs-operator">=</span> i - stack.peek() - <span class="hljs-number">1</span>; <span class="hljs-comment">//çŸ©å½¢çš„å®½</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">h</span> <span class="hljs-operator">=</span> nh[cur];  <span class="hljs-comment">// çŸ©å½¢çš„é«˜</span>
            maxArea = Math.max(maxArea, h * w); <span class="hljs-comment">//è®¡ç®—çŸ©å½¢é¢ç§¯ï¼Œå–æœ€å¤§å€¼</span>
        &#125;
        stack.push(i);
    &#125;
    <span class="hljs-keyword">return</span> maxArea;
&#125;</code></pre></div><link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/leetcode/" class="category-chain-item">leetcode</a></span></span></div></div><div class="license-box my-3"><div class="license-title"><div>äº”ã€æ ˆä¸é˜Ÿåˆ—</div><div>https://catpaws.top/700d279/</div></div><div class="license-meta"><div class="license-meta-item"><div>ä½œè€…</div><div>çŒ«çˆªåœ¨ä¸Š</div></div><div class="license-meta-item license-meta-date"><div>å‘å¸ƒäº</div><div>2025å¹´7æœˆ24æ—¥</div></div><div class="license-meta-item"><div>è®¸å¯åè®®</div><div><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - ç½²å"><i class="iconfont icon-cc-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"></article><article class="post-next col-6"><a href="/36b020a8/" title="å››ã€å­—ç¬¦ä¸²"><span class="hidden-mobile">å››ã€å­—ç¬¦ä¸²</span> <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><div id="twikoo"></div><script type="text/javascript">Fluid.utils.loadComments("#comments",(function(){Fluid.utils.createScript("https://catpaws.top/blog-resource/twikoo1.6.42/twikoo.all.min.js",(function(){var t=Object.assign({envId:"https://catpaws-comments.netlify.app/.netlify/functions/twikoo",region:"ap-shanghai",path:"window.location.pathname"},{el:"#twikoo",path:"window.location.pathname",onCommentLoaded:function(){Fluid.utils.listenDOMLoaded((function(){var t="#twikoo .tk-content img:not(.tk-owo-emotion)";Fluid.plugins.imageCaption(t),Fluid.plugins.fancyBox(t)}))}});twikoo.init(t)}))}))</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>ç›®å½•</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><script>Fluid.utils.createScript("https://lib.baomitu.com/mermaid/8.14.0/mermaid.min.js",(function(){mermaid.initialize({theme:"default"}),Fluid.utils.listenDOMLoaded((function(){Fluid.events.registerRefreshCallback((function(){"mermaid"in window&&mermaid.init()}))}))}))</script><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content">äººå±±äººæµ·ï¼Œæ¬¢è¿ä½ çš„åˆ°æ¥ <i class="iconfont icon-love"></i><br><span id="timeDate">è½½å…¥å¤©æ•°...</span><span id="times">è½½å…¥æ—¶åˆ†ç§’...</span><br><span><a target="_blank" rel="noopener" href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral">æœ¬ç«™ç”±<img src="/img/upyun_logo.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload style="width:auto;height:auto">æä¾›CDNåŠ é€Ÿ/äº‘å­˜å‚¨æœåŠ¡</a></span></div><div class="beian"><span><a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">é™•ICPå¤‡2025059828å· </a></span><span><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=61032302000087" rel="nofollow noopener" class="beian-police" target="_blank"><span style="visibility:hidden;width:0">|</span> <img src="/img/police_beian.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload alt="police-icon"> <span>é™•å…¬ç½‘å®‰å¤‡61032302000087å·</span></a></span></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script>!function(t,e){var i=Fluid.plugins.typing,n=e.getElementById("subtitle");n&&i&&i(n.getAttribute("data-typed-text"))}(window,document)</script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var i=jQuery("#board-ctn").offset().top;window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-i},CONFIG.toc)),t.find(".toc-list-item").length>0&&t.css("visibility","visible"),Fluid.events.registerRefreshCallback((function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))}}))</script><script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", ")),Fluid.events.registerRefreshCallback((function(){if("anchors"in window){anchors.removeAll();var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(anchors.options.class="anchorjs-link-left"),anchors.add(o.join(", "))}}))}))</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script>window.MathJax?(MathJax.startup.document.state(0),MathJax.texReset(),MathJax.typeset(),MathJax.typesetPromise()):window.MathJax={tex:{inlineMath:{"[+]":[["$","$"]]}},loader:{load:["ui/lazy"]},options:{renderActions:{insertedScript:[200,()=>{document.querySelectorAll("mjx-container").forEach(t=>{let e=t.parentNode;"li"===e.nodeName.toLowerCase()&&e.parentNode.classList.add("has-jax")})},"",!1]}}},Fluid.events.registerRefreshCallback((function(){"MathJax"in window&&MathJax.startup.document&&"function"==typeof MathJax.startup.document.state&&(MathJax.startup.document.state(0),MathJax.texReset(),MathJax.typeset(),MathJax.typesetPromise())}))</script><script src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js"></script><script defer src="/js/leancloud.js"></script><script src="/js/local-search.js"></script><script src="//catpaws.top/blog-resource/js/timeDate.js"></script><script src="//sdk.jinrishici.com/v2/browser/jinrishici.js"></script><script src="//catpaws.top/blog-resource/js/loader.js"></script><script src="//catpaws.top/blog-resource/js/blurpicload.js"></script><script src="//catpaws.top/blog-resource/js/axios.min.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div></noscript><script data-pjax src="https://catpaws.top/blog-resource/live2d/index.min.js"></script><script>const oml2d=OML2D.loadOml2d({dockedPosition:"left",mobileDisplay:!1,models:[{path:"https://catpaws.top/blog-resource/live2d/Frieren/Frieren.model3.json",motionPreloadStrategy:"IDLE",position:[-60,-100],scale:.06,stageStyle:{width:250,height:350}}],parentElement:document.body,primaryColor:"var(--btn-bg)",sayHello:!1,tips:{style:{width:200,height:90,left:"calc(50% - 20px)",top:"-100px","font-size":"14px"}}})</script></body></html>