<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="https://catpaws.top/blog-resource/imgs/webicon.png"><link rel="icon" href="https://catpaws.top/blog-resource/imgs/webicon.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="theme-color" content="#2f4154"><meta name="author" content="猫爪在上"><meta name="keywords" content=""><meta name="description" content="数据结构目录： 一、绪论 二、线性表 三、栈和队列 四、串 五、树和二叉树 六、图 七、查找 八、排序 一、栈 定义：只允许在一端进行插入和删除操作的线性表。 其特点是 后进先出（LIFO） 其逻辑结构和普通线性表相同，插入和删除操作有区别。 1.1、顺序栈 采用顺序存储的栈称为顺序栈。 &#x2F;&#x2F;结构定义 #define STACK_INIT_SIZE 100 #de"><meta property="og:type" content="article"><meta property="og:title" content="三、栈和队列"><meta property="og:url" content="https://catpaws.top/d403458d/index.html"><meta property="og:site_name" content="猫爪在上の书桌"><meta property="og:description" content="数据结构目录： 一、绪论 二、线性表 三、栈和队列 四、串 五、树和二叉树 六、图 七、查找 八、排序 一、栈 定义：只允许在一端进行插入和删除操作的线性表。 其特点是 后进先出（LIFO） 其逻辑结构和普通线性表相同，插入和删除操作有区别。 1.1、顺序栈 采用顺序存储的栈称为顺序栈。 &#x2F;&#x2F;结构定义 #define STACK_INIT_SIZE 100 #de"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/image-20221025163530823-2024-12-616:22:53.png"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/image-20221025173320423-2024-12-616_36_34-2024-12-617:00:19.png"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/image-20221025173320423-2024-12-616:57:08.png"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/Snipaste_2022-10-25_17-46-22-2024-12-617:37:58.png"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/PixPin_2024-12-06_17-51-34-2024-12-617:51:49.png"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/image-20221025214902241-2024-12-617:54:33.png"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/PixPin_2024-12-06_19-42-51-2024-12-619:43:15.png"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/PixPin_2024-12-06_23-09-21-2024-12-623:09:42.png"><meta property="article:published_time" content="2024-12-06T08:09:36.000Z"><meta property="article:modified_time" content="2025-04-10T09:44:03.823Z"><meta property="article:author" content="猫爪在上"><meta property="article:tag" content="栈"><meta property="article:tag" content="队列"><meta property="article:tag" content="循环队列"><meta property="article:tag" content="三元组顺序表"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://gitee.com/cmyk359/img/raw/master/img/image-20221025163530823-2024-12-616:22:53.png"><title>三、栈和队列 - 猫爪在上の书桌</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/font.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/poem.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/shubiao.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/loader.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/twikoo_beautify.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/indeximg-hover.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/wave.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/blurpicload.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"catpaws.top",root:"/",version:"1.9.8",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"https://catpaws.top/blog-resource/imgs/transparent.svg",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,follow_dnt:!0,baidu:null,google:{measurement_id:null},tencent:{sid:null,cid:null},leancloud:{app_id:"TNTPv22capMq3aFV9S0sLqSm-gzGzoHsz",app_key:"G2BBAxXmiixopVg5mIJ2sxXR",server_url:"https://leancloud.catpaws.top",path:"window.location.pathname",ignore_local:!1},umami:{src:null,website_id:null,domains:null,start_time:"2024-01-01T00:00:00.000Z",token:null,api_server:null}},search_path:"/local-search.xml",include_content_in_search:!0};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loader-container"><div class="loader"><div class="wrapper"><div class="catContainer"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 733 673" class="catbody"><path fill="#212121" d="M111.002 139.5C270.502 -24.5001 471.503 2.4997 621.002 139.5C770.501 276.5 768.504 627.5 621.002 649.5C473.5 671.5 246 687.5 111.002 649.5C-23.9964 611.5 -48.4982 303.5 111.002 139.5Z"></path><path fill="#212121" d="M184 9L270.603 159H97.3975L184 9Z"></path><path fill="#212121" d="M541 0L627.603 150H454.397L541 0Z"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 158 564" class="tail"><path fill="#191919" d="M5.97602 76.066C-11.1099 41.6747 12.9018 0 51.3036 0V0C71.5336 0 89.8636 12.2558 97.2565 31.0866C173.697 225.792 180.478 345.852 97.0691 536.666C89.7636 553.378 73.0672 564 54.8273 564V564C16.9427 564 -5.4224 521.149 13.0712 488.085C90.2225 350.15 87.9612 241.089 5.97602 76.066Z"></path></svg><div class="text"><span class="bigzzz">Z</span> <span class="zzz">Z</span></div></div><div class="wallContainer"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 500 126" class="wall"><line stroke-width="6" stroke="#7C7C7C" y2="3" x2="450" y1="3" x1="50"></line><line stroke-width="6" stroke="#7C7C7C" y2="85" x2="400" y1="85" x1="100"></line><line stroke-width="6" stroke="#7C7C7C" y2="122" x2="375" y1="122" x1="125"></line><line stroke-width="6" stroke="#7C7C7C" y2="43" x2="500" y1="43"></line><line stroke-width="6" stroke="#7C7C7C" y2="1.99391" x2="115.5" y1="43.0061" x1="115.5"></line><line stroke-width="6" stroke="#7C7C7C" y2="2.00002" x2="189" y1="43.0122" x1="189"></line><line stroke-width="6" stroke="#7C7C7C" y2="2.00612" x2="262.5" y1="43.0183" x1="262.5"></line><line stroke-width="6" stroke="#7C7C7C" y2="2.01222" x2="336" y1="43.0244" x1="336"></line><line stroke-width="6" stroke="#7C7C7C" y2="2.01833" x2="409.5" y1="43.0305" x1="409.5"></line><line stroke-width="6" stroke="#7C7C7C" y2="43" x2="153" y1="84.0122" x1="153"></line><line stroke-width="6" stroke="#7C7C7C" y2="43" x2="228" y1="84.0122" x1="228"></line><line stroke-width="6" stroke="#7C7C7C" y2="43" x2="303" y1="84.0122" x1="303"></line><line stroke-width="6" stroke="#7C7C7C" y2="43" x2="378" y1="84.0122" x1="378"></line><line stroke-width="6" stroke="#7C7C7C" y2="84" x2="192" y1="125.012" x1="192"></line><line stroke-width="6" stroke="#7C7C7C" y2="84" x2="267" y1="125.012" x1="267"></line><line stroke-width="6" stroke="#7C7C7C" y2="84" x2="342" y1="125.012" x1="342"></line></svg></div></div></div></div><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>猫爪在上の书桌</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/about/" target="_self"><i class="iconfont icon-addrcard"></i> <span>个人主页</span></a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont icon-books"></i> <span>博客</span></a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="/" target="_self"><i class="iconfont icon-pen"></i> <span>文章</span> </a><a class="dropdown-item" href="/archives/" target="_self"><i class="iconfont icon-archive-fill"></i> <span>归档</span> </a><a class="dropdown-item" href="/categories/" target="_self"><i class="iconfont icon-category-fill"></i> <span>分类</span> </a><a class="dropdown-item" href="/tags/" target="_self"><i class="iconfont icon-tags-fill"></i> <span>标签</span></a></div></li><li class="nav-item"><a class="nav-link" href="/messages/" target="_self"><i class="iconfont icon-comment"></i> <span>留言板</span></a></li><li class="nav-item"><a class="nav-link" href="/timeline/" target="_self"><i class="iconfont icon-images"></i> <span>时光轴</span></a></li><li class="nav-item"><a class="nav-link" href="/links/" target="_self"><i class="iconfont icon-link-fill"></i> <span>友链</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(https://catpaws.top/blog-resource/imgs/article-bg.jpg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="三、栈和队列"></span></div><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2024-12-06 16:09" pubdate>2024年12月6日 下午</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 3.6k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 31 分钟 </span><span id="leancloud-page-views-container" class="post-meta" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="leancloud-page-views"></span> 次</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 id="seo-header">三、栈和队列</h1><p id="updated-time" class="note note-info">本文最后更新于 2025年4月10日 下午</p><div class="markdown-body"><meta name="referrer" content="no-referrer"><p>数据结构目录：</p><p><a href="https://catpaws.top/bfab103e/">一、绪论</a></p><p><a href="https://catpaws.top/7682ef9a/">二、线性表</a></p><p><a href="https://catpaws.top/d403458d/">三、栈和队列</a></p><p><a href="https://catpaws.top/dac6dce7/">四、串</a></p><p><a href="https://catpaws.top/453281de/">五、树和二叉树</a></p><p><a href="https://catpaws.top/ce993eeb/">六、图</a></p><p><a href="https://catpaws.top/24d4ba7c/">七、查找</a></p><p><a href="https://catpaws.top/978a1655/">八、排序</a></p><h2 id="一栈">一、栈</h2><p>定义：只允许在一端进行插入和删除操作的线性表。</p><p>其特点是 <strong>后进先出（LIFO）</strong></p><p>其逻辑结构和普通线性表相同，插入和删除操作有区别。</p><h3 id="顺序栈">1.1、顺序栈</h3><p>采用顺序存储的栈称为顺序栈。</p><div class="code-wrapper"><pre><code class="hljs c"><span class="hljs-comment">//结构定义</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> STACK_INIT_SIZE 100</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> STACK_INCRIMENT_SIZE 10;</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> &#123;</span>
    ElemType *base; <span class="hljs-comment">//栈底指针，构造前和销毁后为空</span>
    ElemTyoe *top; <span class="hljs-comment">// 栈顶指针,默认指向栈顶元素的下一个位置</span>
    <span class="hljs-type">int</span> stackSize; <span class="hljs-comment">// 当前分配的栈的存储空间个数</span>
&#125;SqStack;</code></pre></div><p><strong>初始化：</strong></p><ul><li>S.top = 0：规定top指针指向下一个栈顶元素的下一个存储单元，即下一个可以存储的位置。</li><li>S.top = -1：规定top指针指向当前栈顶元素所在的存储单元。</li></ul><p>top指针的初始值不同，顺序栈的入栈、出栈、判满操作会有差异</p><ul><li>当S.top = 0 时：<ul><li>入栈：S.data[S.top ++] = x; 或*top++ = x;</li><li>出栈：x = S.data[-- S.top]; 或 x = *--top;</li><li>取栈顶元素： x = S.data[S.top - 1];或 x = *(top -1)</li><li>栈满：S.top == S.base;</li></ul></li><li>当S.top = -1时：<ul><li>入栈：S.data[++ S.top] = x;或 *++top =x ;</li><li>出栈：x = S.data[S.top --]; 或 x = *top--</li><li>取栈顶元素：x = S.data[S.top];或 x = *(top)</li><li>栈满：S.top == S.base</li></ul></li></ul><p>元素插入栈顶时，和顺序表一样，要判断是否栈满 <code>S.top - S.base == S.stackSize</code>。若满了，则扩容后插入。</p><h3 id="共享栈">1.2、共享栈</h3><p>顺序栈的大小在声明后不可变，可以在一开始就申请较大的存储空间。<strong>为了提高内存的利用率，</strong>使用<strong>共享栈</strong>。</p><p>两个顺序栈共享一个一维数组，将两个栈底分别设置在共享空间的两端，两个栈顶向共享空间的中间延伸。</p><p><img src="https://gitee.com/cmyk359/img/raw/master/img/image-20221025163530823-2024-12-616:22:53.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload alt="image-20221025163530823" style="zoom:80%"></p><p><strong>仅当两个栈顶指针相邻（top1 - top0 = 1）时，判定为栈满。</strong></p><p><strong>共享栈是为了更有效地利用存储空间，对存取效率没有什么影响。</strong></p><h3 id="链栈">1.3、链栈</h3><p>采用链式存储的栈称为链栈。通常采用单链表实现。</p><p>链栈的操作和链表类似，出栈和入栈的操作都在链表表头进行。</p><h2 id="二队列">二、队列</h2><p>定义：队列是只在一端进行插入，在另一端进行删除的线性表。</p><p>其特点是 <strong>先进先出（FIFO）</strong></p><h3 id="队列的顺序存储结构">2.1、队列的顺序存储结构</h3><p>用静态数组存放数据元素，设置队头指针front和队尾指针rear。</p><div class="code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">define</span> Maxsize 10 <span class="hljs-comment">//定义队列中最大存放元素的个数</span></span>
<span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> &#123;
    ElemType data[Maxsize];
    <span class="hljs-type">int</span> front, rear;
&#125;SqQueue;</code></pre></div><p>初始状态：Q.front = Q.rear = 0 （判空条件）</p><p>入队：队列不满时，先送值到队尾元素，再将队尾指针加一。</p><p>出队：队列不空时，先取队头元素，再将队头指针加一。</p><p>不能用 Q.rear == maxsize作为队列满的条件，这是一种<strong>假溢出</strong>。</p><p><strong>循环队列</strong></p><p>用<strong>模运算</strong>将静态数组的存储空间变成一个<strong>环状。</strong></p><p>循环队列是队列的一种顺序存储结构，引入循环队列时为了<strong>克服假溢出时大量移动元素</strong>。</p><blockquote><p>循环队列也存在空间溢出问题，循环队列解决的是“假溢出”问题，但仍然会出现真正的溢出问题。假溢出是下标溢出，真溢出是空间溢出。</p></blockquote><p>根据<code>Q.front和Q.rear</code>的初始值的不同，对循环链表相同操作的代码有所不同。主要有以下三种初始情况，第一种是严蔚敏教材的初始情况，第二种是西电教材中有关循环队列的规定，第三种也较为常见。</p><p><strong>1、初始时 Q.front =0， Q.rear = 0 ，此时尾指针指向队尾元素的下一个存放位置，头指针指向队首元素</strong></p><p><img src="https://gitee.com/cmyk359/img/raw/master/img/image-20221025173320423-2024-12-616_36_34-2024-12-617:00:19.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload alt="image-20221025173320423" style="zoom:50%"></p><ul><li><p>元素入队： Q.data[Q.rear] = x; Q.rear = (Q.rear + 1) % maxsize;</p></li><li><p>元素出队： x = Q.data[Q.front]; Q.front = (Q.front + 1) % maxsize;</p></li><li><p>队列长度： (Q.rear - Q.front + maxsize) % maxsize;</p></li><li><p>判空： Q.front = Q.rear</p></li><li><p>判满</p><ul><li><p><strong>牺牲一个存储空间<放弃的是rear指向的位置>，来区分队空和队满</放弃的是rear指向的位置></strong>，<strong>当rear的下一个位置为front时队满</strong>，即 （Q.rear + 1) % maxsize == Q.front</p></li><li><p><strong>增加size变量记录当前队列长度</strong>，初始化时size = 0， 入队时size++ ，出队时 size--。</p><p>此时队空的条件为 Q.size == 0;队满的条件为 Q.size == maxsize</p></li><li><p>只有出队才会导致队列为空，只有入队才会导致队列变满。通过区分 导致 Q.front == Q.rear 的最近一次操作时入队还是出队，来判断当前队列为空还是满。</p><p><strong>增加tag 标志等于0或1，用于标记最近的一次操作时出队还是入队。</strong>执行出队操作时，Q.tag = 0; 执行入队操作时，Q.tag = 1</p><p>因此判空条件为：Q.front == Q.rear &amp;&amp; Q.tag == 0; 判满条件为： Q.front == Q.rear &amp;&amp; Q.tag == 1;</p></li></ul></li></ul><p><strong>2、初始时 Q.front = Q.rear = maxsize - 1 ，此时尾指针指向队尾元素，头指针指向队首元素的前一个位置</strong></p><p><img src="https://gitee.com/cmyk359/img/raw/master/img/image-20221025173320423-2024-12-616:57:08.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload alt="image-20221025173320423" style="zoom:50%"></p><ul><li>入队：rear = (rear + 1) % maxsize， Q.data[rear] = x</li><li>出队：front = (front + 1) % maxsize, x = Q.data[front]</li><li>判空：front == rear</li><li>判满：front == (rear + 1) % maxsize</li><li>元素个数：(rear - front + maxsize) % maxsize</li></ul><p><strong>3、初始时 Q.front = 0 ,Q.rear = maxsize - 1 , 此时队尾指针指向队尾元素，队友指针指向队头元素</strong></p><p><img src="https://gitee.com/cmyk359/img/raw/master/img/Snipaste_2022-10-25_17-46-22-2024-12-617:37:58.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload alt="Snipaste_2022-10-25_17-46-22" style="zoom:50%"></p><ul><li><p>元素入队：Q.rear = (Q.rear + 1) % maxsize; Q.data[Q.rear] = x;</p></li><li><p>元素出队：x = Q.data[Q.front]; Q.front = (Q.front + 1) % maxsize;</p></li><li><p>判空：（Q.rear + 1 ) % maxsize == Q.front</p></li><li><p>判满</p><ul><li><p><strong>牺牲一个存储空间<放弃的是rear的下一个位置>，来区分空和满，</放弃的是rear的下一个位置></strong>判断条件为 (Q.rear + 2) % maxsize == Q.front</p></li><li><p>增加辅助变量size，记录当前队列中的元素个数</p></li><li><p>使用tag标志。入队时，tag为1；出队时，tag为0；</p><p>判空条件为 ：(Q.rear + 1) % maxsize == Q.front &amp;&amp; Q.tag == 0</p><p>判满条件为：（Q.rear + 1）%maxsize == Q.front &amp;&amp; Q.tag == 1</p></li></ul></li><li><p>元素个数：(Q.rear - Q.front + 1+ maxsize) % maxsize;</p></li></ul><h3 id="队列的链式存储结构">2.2、队列的链式存储结构</h3><p>队列的链式表示称为<strong>链队列。</strong>它实际上就是一个同时带有队头指针和队尾指针的单链表。</p><p><img src="https://gitee.com/cmyk359/img/raw/master/img/PixPin_2024-12-06_17-51-34-2024-12-617:51:49.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload alt="Snipaste_2022-10-25_17-46-22" style="zoom:60%"></p><div class="code-wrapper"><pre><code class="hljs c++"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> &#123;
    ElemType data;
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">LinkNode</span> *next;
&#125;LinkNode;

<span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> &#123;
    LinkNode *front, *rear;
&#125;LinkQueue;</code></pre></div><p><strong>带头结点的链队列</strong>：为了统一在第一个位置和其余位置插入和删除操作，一般采用带头结点的单链表</p><ul><li><p>初始化：<code>Q.front = Q.rear = (LinkNode*) malloc (sizeof(LinkNode)); Q.front-&gt;next == NULL;</code></p></li><li><p>元素入队：申请一个LinkNode 结点s，<code>s-&gt;next = null; Q.rear -&gt; next = s; Q.rear = s</code>;</p></li><li><p>元素出队：当队列不为空时，删除队头结点 <code>p = Q.front-&gt;next; Q.front-&gt;next = p-&gt;next; free(p);</code></p><div class="code-wrapper"><pre><code class="hljs">      **在释放结点p之前需要判断  `Q.rear == p`，若p就是最后一个结点 需要单独处理 `Q.rear = Q.front**</code></pre></div></li><li><p>判空：<code>Q.front == Q.rear</code></p></li></ul><p><strong>不带头结点的链队列</strong>：</p><ul><li>初始化：<code>Q.front = NULL; Q.rear = NULL;</code></li><li>元素入队： 在插入第一个元素结点 s 时，需要单独处理 <code>Q.front = s; Q.rear = s;</code></li><li>元素出队：最后一个结点出队时要单独处理，将 front和rear都指向NULL；</li><li>判空：<code>Q.front == NULL</code></li></ul><h3 id="双端队列">2.3、双端队列</h3><p>双端队列是指允许两端都可以进项入队和出队操作的队列。</p><p><img src="https://gitee.com/cmyk359/img/raw/master/img/image-20221025214902241-2024-12-617:54:33.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload alt="image-20221025214902241" style="zoom:67%"></p><ul><li>输入受限的双端队列：只允许在一端插入，两端删除的队列</li><li>输出受限的双端队列：只允许从两端插入，一端删除的队列</li></ul><p>在以某一顺序输入若干元素，判断输出是否合法时：</p><ul><li><strong>关键：在输出序列中的某个元素，在该元素之前的所有元素都已经输入</strong></li><li>在输入受限的双端队列中，<strong>只需验证能否利用两侧的出队操作拼凑出目标输出序列</strong></li><li>在输出受限的双端队列中，由于只能从一端出队，所以目标输出序列在队列中的相对位置已知，<strong>只需验证能否通过两端的输入操作得到目标输出序列</strong>。</li></ul><p>在栈中合法的输出序列，在双端队列中也必定合法。</p><h2 id="三栈和队列的应用">三、栈和队列的应用</h2><h3 id="栈在括号匹配中的应用">3.1、栈在括号匹配中的应用</h3><p>思路：依次扫描所有字符，遇到左括号则入栈，遇到右括号则弹出栈顶元素检查是否匹配</p><p>匹配失败的情况：</p><ol type="1"><li>扫描到右括号且栈空，右括号单身。</li><li>扫描完所有字符后，栈非空，左括号单身。</li><li>左右括号不匹配</li></ol><h3 id="栈在表达式求值中的应用">3.2、栈在表达式求值中的应用</h3><p>三种表达式：</p><ul><li>中缀表达：运算符位于两操作数之间</li><li>前缀表达式：运算符位于两操作数之前（波兰表达式）</li><li>后缀表达式：运算算符位于两操作数之后（逆波兰表达式）</li></ul><h4 id="中缀转后缀手算">中缀转后缀（手算）</h4><ol type="1"><li>确定中缀表达式中各个运算符的运算顺序，采用<strong>左优先原则</strong>：只要左边的运算符能先计算就优先让左边的计算。（此时的手算结果与计算机处理结果一致）</li><li>选择下一个运算符，按照【左操作数，右操作数，运算符】的方式组成一个新的操作数</li><li>如果还有运算符未被处理，继续步骤 2</li></ol><p><img src="https://gitee.com/cmyk359/img/raw/master/img/PixPin_2024-12-06_18-15-07-2024-12-618:15:22.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload alt="Snipaste_2022-10-25_17-46-22" style="zoom:50%"></p><blockquote><p>中缀转前缀的手算方法与以上过程类似，在确定哥哥运算符的运算顺序是采用 “右优先”原则，并按照【运算符，左操作数，右操作数】的方式组合成新的操作数</p></blockquote><h4 id="custom-id">中缀转后缀（机算）</h4><p>初始化一个栈，用于保存还不确定运算顺序的运算符。从左到右处理各个元素，直到末尾。可能遇到三种情况：</p><ul><li>遇到操作数：直接加入后缀表达式</li><li>遇到界限符：遇到 <code>(</code> 直接入栈，遇到 <code>)</code> 则一次弹出栈内运算符并加入后缀表达式，直到弹出 <code>(</code> 为止。注意，<code>)</code>不用入栈。</li><li>遇到运算符：一次弹出栈中优先级<strong>高于或等于</strong>当前运算符的所有运算符，并加入后缀表达式，若遇到 <code>(</code> 或栈空则停止，之后再把当前运算符入栈。</li></ul><p>按上述规则处理完所有字符后，将栈中剩余运算符依次弹出并加入后缀表达式。</p><h4 id="计算后缀表达式手算">计算后缀表达式（手算）</h4><p>从左往右扫描，每遇到一个运算符，就让其前面最近的两个操作数执行相应的运算，合体为一个操作数。</p><h4 id="计算后缀表达式机算">计算后缀表达式（机算）</h4><p>初始化一个栈，用于存储扫描到的操作数</p><ol type="1"><li><strong>从左往右</strong>扫描下一个元素，直到处理完所有元素。</li><li>若扫描到操作数则入栈，并回到 1；否则执行 3</li><li>扫描到操作符，则弹出两个栈顶元素进行相应的运算（<strong>注：此时先出栈的是右操作数</strong>），运算结果压回栈顶，回到 1</li></ol><p>若表达式合法，则最后栈中只会留下一个元素，就是最终结果</p><blockquote><p>用栈实现前缀表达式的方法同上，不同之处在于：i. 从右向左扫描前缀表达式 ii.执行运算时，先出栈的是左操作数</p></blockquote><h4 id="利用栈实现中缀表达式的计算">利用栈实现中缀表达式的计算</h4><p>思想：中缀转后缀 + 后缀表达式求值。</p><p>思路：初始化两个栈，操作数栈和操作符栈，从左向右扫描中缀表达式</p><ul><li>若扫描到操作数，则压入操作数栈</li><li>若扫描到操作符或界限符，则按照“中缀转后缀”相同的逻辑压入运算符栈。期间也会弹出运算符，每弹出一个运算符时，就需要弹出两个操作数栈顶元素来执行相应的运算，运算结果压回操作数栈。</li></ul><h3 id="栈在递归中的应用">3.3、栈在递归中的应用</h3><h3 id="栈在数制转换中的应用">3.4、栈在数制转换中的应用</h3><h3 id="队列在层序遍历中的应用">3.5、队列在层序遍历中的应用</h3><h2 id="四特殊矩阵的压缩存储">四、特殊矩阵的压缩存储</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/erthrerg/article/details/137921762">参考</a></p><p>关键：计算给定元素是顺序存储的第几个元素</p><p>计算给定数组元素的地址：<u>起始位置+<strong>前面元素的个数</strong> * 每个元素所占空间</u></p><ul><li>一维：<span class="math inline">\(A[0...{n-1}]\)</span>,则<span class="math inline">\(LOC(a_i) = LOC(a_0) + i * L\)</span>,其中<span class="math inline">\(L\)</span>为每个数组元素所占的存储单元个数</li><li>二维 <span class="math inline">\(A[0...h_1][0...h_2]\)</span>,则<span class="math inline">\(LOC(a_{ij}) = LOC(a_{00}) + (i * (h_2 + 1)+j)*L\)</span></li></ul><h3 id="利用三元组顺序表对稀疏矩阵进行压缩存储">4.1、利用三元组顺序表对稀疏矩阵进行压缩存储</h3><div class="code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">define</span> maxsize 10000</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-type">int</span> datatype;

<span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> &#123;
    <span class="hljs-type">int</span> i, j;
    datatype v;<span class="hljs-comment">//非零元素所在行列为i，j，值为v</span>
&#125;triple; <span class="hljs-comment">//三元组（i,j,v）</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> &#123;
    triple data[maxsize];
    <span class="hljs-type">int</span> m, n, len;<span class="hljs-comment">//矩阵的行、列、非零元素个数</span>
&#125;tripleTable; <span class="hljs-comment">//三元组顺序表</span></code></pre></div><p><img src="https://gitee.com/cmyk359/img/raw/master/img/PixPin_2024-12-06_19-42-51-2024-12-619:43:15.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload></p><p><strong>三元组顺序表的转置</strong></p><ol type="1"><li><p>简单转置方法</p><p>分两步：</p><p>i.将三元组顺序表中的i和j互换，互换后其中的i并不是有序的</p><p>ii.按 i 进行非递减排序，是指变成像之前一样有序的状态。</p><p>其中涉及排序需要采用双重循环时间复杂度高</p></li><li><p>快速转置法</p><p><strong>用空间换时间</strong>，设置两个辅助数组 <code>num</code> 和 <code>pos</code></p><p>num[]：用来记录每一列<strong>非零元素个数</strong></p><p>pos[]：用来存放每一列的第一个非零元素在转置后在三元组中存放的位置。</p><blockquote><p>初始时保存的是第一个非零元素的位置，在遍历过程中随着每次读取pos[k]后其值加一，保存该列下一个非零元素的存放位置</p></blockquote><div class="code-wrapper"><pre><code class="hljs c++"><span class="hljs-comment">//求num[]</span>
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; souce.n; i++)
    num[i] = <span class="hljs-number">0</span>; <span class="hljs-comment">//共有souce.n列，每列非零元素个数初始化为0</span>
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = <span class="hljs-number">0</span>; k &lt; souce.len; k++) 
    num[souce.data[k].j]++;  <span class="hljs-comment">//列号相同则对应的num值加一</span></code></pre></div><div class="code-wrapper"><pre><code class="hljs c++"><span class="hljs-comment">//求pos[]</span>
pos[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>; <span class="hljs-comment">//第1列第一个非零元素肯定存放在三元组的第一个位置</span>
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = <span class="hljs-number">1</span>; k &lt; souce.n; k++) 
    <span class="hljs-comment">//当前列第一个非零元素的位置 = 上一列的第一个非零元素的位置 + 上一列非零元素的个数</span>
    pos[k] = pos[k - <span class="hljs-number">1</span>] + num[k - <span class="hljs-number">1</span>];</code></pre></div><p><img src="https://gitee.com/cmyk359/img/raw/master/img/PixPin_2024-12-06_23-09-21-2024-12-623:09:42.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload alt="PixPin_2024-12-06_23-09-21" style="zoom:67%"></p><p>求出<code>num[]</code>和<code>pos[]</code>后，遍历三元组顺序表，每遍历一个元素<code>souce.data[k]</code>，交换它的行和列，再查询<code>pos[souce.data[k].j]</code>得到转置后它的位置，移动它到指定位置。再执行<code>pos[souce.data[k].j] ++</code>，以便同列的下一个非零元素能放在它的后面</p></li></ol><link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="category-chain-item">数据结构</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/%E6%A0%88/" class="print-no-link">#栈</a> <a href="/tags/%E9%98%9F%E5%88%97/" class="print-no-link">#队列</a> <a href="/tags/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%97/" class="print-no-link">#循环队列</a> <a href="/tags/%E4%B8%89%E5%85%83%E7%BB%84%E9%A1%BA%E5%BA%8F%E8%A1%A8/" class="print-no-link">#三元组顺序表</a></div></div><div class="license-box my-3"><div class="license-title"><div>三、栈和队列</div><div>https://catpaws.top/d403458d/</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>猫爪在上</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2024年12月6日</div></div><div class="license-meta-item"><div>许可协议</div><div><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-cc-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/dac6dce7/" title="四、串"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">四、串</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/7682ef9a/" title="二、线性表"><span class="hidden-mobile">二、线性表</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><div id="twikoo"></div><script type="text/javascript">Fluid.utils.loadComments("#comments",(function(){Fluid.utils.createScript("https://catpaws.top/blog-resource/twikoo1.6.42/twikoo.all.min.js",(function(){var t=Object.assign({envId:"https://catpaws-comments.netlify.app/.netlify/functions/twikoo",region:"ap-shanghai",path:"window.location.pathname"},{el:"#twikoo",path:"window.location.pathname",onCommentLoaded:function(){Fluid.utils.listenDOMLoaded((function(){var t="#twikoo .tk-content img:not(.tk-owo-emotion)";Fluid.plugins.imageCaption(t),Fluid.plugins.fancyBox(t)}))}});twikoo.init(t)}))}))</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>目录</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><script>Fluid.utils.createScript("https://lib.baomitu.com/mermaid/8.14.0/mermaid.min.js",(function(){mermaid.initialize({theme:"default"}),Fluid.utils.listenDOMLoaded((function(){Fluid.events.registerRefreshCallback((function(){"mermaid"in window&&mermaid.init()}))}))}))</script><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content">人山人海，欢迎你的到来 <i class="iconfont icon-love"></i><br><span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span><br><span><a target="_blank" rel="noopener" href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral">本站由<img src="/img/upyun_logo.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload style="width:auto;height:auto">提供CDN加速/云存储服务</a></span></div><div class="beian"><span><a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">陕ICP备2025059828号 </a></span><span><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=61032302000087" rel="nofollow noopener" class="beian-police" target="_blank"><span style="visibility:hidden;width:0">|</span> <img src="/img/police_beian.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload alt="police-icon"> <span>陕公网安备61032302000087号</span></a></span></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script>!function(t,e){var i=Fluid.plugins.typing,n=e.getElementById("subtitle");n&&i&&i(n.getAttribute("data-typed-text"))}(window,document)</script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var i=jQuery("#board-ctn").offset().top;window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-i},CONFIG.toc)),t.find(".toc-list-item").length>0&&t.css("visibility","visible"),Fluid.events.registerRefreshCallback((function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))}}))</script><script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", ")),Fluid.events.registerRefreshCallback((function(){if("anchors"in window){anchors.removeAll();var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(anchors.options.class="anchorjs-link-left"),anchors.add(o.join(", "))}}))}))</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script>window.MathJax?(MathJax.startup.document.state(0),MathJax.texReset(),MathJax.typeset(),MathJax.typesetPromise()):window.MathJax={tex:{inlineMath:{"[+]":[["$","$"]]}},loader:{load:["ui/lazy"]},options:{renderActions:{insertedScript:[200,()=>{document.querySelectorAll("mjx-container").forEach(t=>{let e=t.parentNode;"li"===e.nodeName.toLowerCase()&&e.parentNode.classList.add("has-jax")})},"",!1]}}},Fluid.events.registerRefreshCallback((function(){"MathJax"in window&&MathJax.startup.document&&"function"==typeof MathJax.startup.document.state&&(MathJax.startup.document.state(0),MathJax.texReset(),MathJax.typeset(),MathJax.typesetPromise())}))</script><script src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js"></script><script defer src="/js/leancloud.js"></script><script src="/js/local-search.js"></script><script src="//catpaws.top/blog-resource/js/timeDate.js"></script><script src="//sdk.jinrishici.com/v2/browser/jinrishici.js"></script><script src="//catpaws.top/blog-resource/js/loader.js"></script><script src="//catpaws.top/blog-resource/js/blurpicload.js"></script><script src="//catpaws.top/blog-resource/js/axios.min.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript><script data-pjax src="https://catpaws.top/blog-resource/live2d/index.min.js"></script><script>const oml2d=OML2D.loadOml2d({dockedPosition:"left",mobileDisplay:!1,models:[{path:"https://catpaws.top/blog-resource/live2d/Frieren/Frieren.model3.json",motionPreloadStrategy:"IDLE",position:[-60,-100],scale:.06,stageStyle:{width:250,height:350}}],parentElement:document.body,primaryColor:"var(--btn-bg)",sayHello:!1,tips:{style:{width:200,height:90,left:"calc(50% - 20px)",top:"-100px","font-size":"14px"}}})</script></body></html>