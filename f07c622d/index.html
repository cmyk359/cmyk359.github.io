<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="https://catpaws.top/blog-resource/imgs/logo.jpg"><link rel="icon" href="https://catpaws.top/blog-resource/imgs/logo.jpg"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="theme-color" content="#2f4154"><meta name="author" content="猫爪在上"><meta name="keywords" content=""><meta name="description" content="SQL练习                school.sql                   对应的建表语句如下，可以直接查看表中字段名，已插入的数据等信息。 &#x2F;*  Navicat Premium Data Transfer   Source Server         : aa  Source Server Type    : MySQL  Source Server Ver"><meta property="og:type" content="article"><meta property="og:title" content="MySQL（三）"><meta property="og:url" content="https://catpaws.top/f07c622d/index.html"><meta property="og:site_name" content="猫爪在上の书桌"><meta property="og:description" content="SQL练习                school.sql                   对应的建表语句如下，可以直接查看表中字段名，已插入的数据等信息。 &#x2F;*  Navicat Premium Data Transfer   Source Server         : aa  Source Server Type    : MySQL  Source Server Ver"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://gitee.com/cmyk359/img/raw/master/img/v2-86fd263583a6cead51675982c1735e68_r-2024-9-1211:39:45.jpg"><meta property="article:published_time" content="2024-12-08T16:07:44.000Z"><meta property="article:modified_time" content="2025-04-17T01:38:44.470Z"><meta property="article:author" content="猫爪在上"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://gitee.com/cmyk359/img/raw/master/img/v2-86fd263583a6cead51675982c1735e68_r-2024-9-1211:39:45.jpg"><title>MySQL（三） - 猫爪在上の书桌</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/font.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/poem.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/cursor.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/loader.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/twikoo_beautify.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/indeximg-hover.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/wave-1.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/blurpicload.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/reward/iconfont.css"><link rel="stylesheet" href="//catpaws.top/blog-resource/css/switch.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"catpaws.top",root:"/",version:"1.9.8",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"https://catpaws.top/blog-resource/imgs/transparent.svg",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,follow_dnt:!0,baidu:null,google:{measurement_id:null},tencent:{sid:null,cid:null},leancloud:{app_id:"TNTPv22capMq3aFV9S0sLqSm-gzGzoHsz",app_key:"G2BBAxXmiixopVg5mIJ2sxXR",server_url:"https://leancloud.catpaws.top",path:"window.location.pathname",ignore_local:!1},umami:{src:null,website_id:null,domains:null,start_time:"2024-01-01T00:00:00.000Z",token:null,api_server:null}},search_path:"/local-search.xml",include_content_in_search:!0};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="wrapper"></div><div id="loader-container"><div class="loader"><div class="wrapper"><div class="catContainer"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 733 673" class="catbody"><path fill="#212121" d="M111.002 139.5C270.502 -24.5001 471.503 2.4997 621.002 139.5C770.501 276.5 768.504 627.5 621.002 649.5C473.5 671.5 246 687.5 111.002 649.5C-23.9964 611.5 -48.4982 303.5 111.002 139.5Z"></path><path fill="#212121" d="M184 9L270.603 159H97.3975L184 9Z"></path><path fill="#212121" d="M541 0L627.603 150H454.397L541 0Z"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 158 564" class="tail"><path fill="#191919" d="M5.97602 76.066C-11.1099 41.6747 12.9018 0 51.3036 0V0C71.5336 0 89.8636 12.2558 97.2565 31.0866C173.697 225.792 180.478 345.852 97.0691 536.666C89.7636 553.378 73.0672 564 54.8273 564V564C16.9427 564 -5.4224 521.149 13.0712 488.085C90.2225 350.15 87.9612 241.089 5.97602 76.066Z"></path></svg><div class="text"><span class="bigzzz">Z</span> <span class="zzz">Z</span></div></div><div class="wallContainer"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 500 126" class="wall"><line stroke-width="6" stroke="#7C7C7C" y2="3" x2="450" y1="3" x1="50"></line><line stroke-width="6" stroke="#7C7C7C" y2="85" x2="400" y1="85" x1="100"></line><line stroke-width="6" stroke="#7C7C7C" y2="122" x2="375" y1="122" x1="125"></line><line stroke-width="6" stroke="#7C7C7C" y2="43" x2="500" y1="43"></line><line stroke-width="6" stroke="#7C7C7C" y2="1.99391" x2="115.5" y1="43.0061" x1="115.5"></line><line stroke-width="6" stroke="#7C7C7C" y2="2.00002" x2="189" y1="43.0122" x1="189"></line><line stroke-width="6" stroke="#7C7C7C" y2="2.00612" x2="262.5" y1="43.0183" x1="262.5"></line><line stroke-width="6" stroke="#7C7C7C" y2="2.01222" x2="336" y1="43.0244" x1="336"></line><line stroke-width="6" stroke="#7C7C7C" y2="2.01833" x2="409.5" y1="43.0305" x1="409.5"></line><line stroke-width="6" stroke="#7C7C7C" y2="43" x2="153" y1="84.0122" x1="153"></line><line stroke-width="6" stroke="#7C7C7C" y2="43" x2="228" y1="84.0122" x1="228"></line><line stroke-width="6" stroke="#7C7C7C" y2="43" x2="303" y1="84.0122" x1="303"></line><line stroke-width="6" stroke="#7C7C7C" y2="43" x2="378" y1="84.0122" x1="378"></line><line stroke-width="6" stroke="#7C7C7C" y2="84" x2="192" y1="125.012" x1="192"></line><line stroke-width="6" stroke="#7C7C7C" y2="84" x2="267" y1="125.012" x1="267"></line><line stroke-width="6" stroke="#7C7C7C" y2="84" x2="342" y1="125.012" x1="342"></line></svg></div></div></div></div><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>猫爪在上の书桌</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/about/" target="_self"><i class="iconfont icon-addrcard"></i> <span>个人主页</span></a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont icon-books"></i> <span>博客</span></a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="/" target="_self"><i class="iconfont icon-pen"></i> <span>文章</span> </a><a class="dropdown-item" href="/archives/" target="_self"><i class="iconfont icon-archive-fill"></i> <span>归档</span> </a><a class="dropdown-item" href="/categories/" target="_self"><i class="iconfont icon-category-fill"></i> <span>分类</span> </a><a class="dropdown-item" href="/tags/" target="_self"><i class="iconfont icon-tags-fill"></i> <span>标签</span></a></div></li><li class="nav-item"><a class="nav-link" href="/messages/" target="_self"><i class="iconfont icon-comment"></i> <span>留言板</span></a></li><li class="nav-item"><a class="nav-link" href="/timeline/" target="_self"><i class="iconfont icon-images"></i> <span>时光轴</span></a></li><li class="nav-item"><a class="nav-link" href="/links/" target="_self"><i class="iconfont icon-link-fill"></i> <span>友链</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(https://catpaws.top/blog-resource/imgs/article-bg.jpg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="MySQL（三）"></span></div><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2024-12-09 00:07" pubdate>2024年12月9日 凌晨</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 2.9k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 24 分钟 </span><span id="leancloud-page-views-container" class="post-meta" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="leancloud-page-views"></span> 次</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 id="seo-header">MySQL（三）</h1><p id="updated-time" class="note note-info">本文最后更新于 2025年4月17日 上午</p><div class="markdown-body"><meta name="referrer" , content="no-referrer"><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1q4411G7Lw">SQL练习</a></p><p><img src="https://gitee.com/cmyk359/img/raw/master/img/v2-86fd263583a6cead51675982c1735e68_r-2024-9-1211:39:45.jpg" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload style="zoom:80%"></p><div class="spoiler collapsed"><div class="spoiler-title">school.sql</div><div class="spoiler-content"><p>对应的建表语句如下，可以直接查看表中字段名，已插入的数据等信息。</p><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-comment">/*</span>
<span class="hljs-comment"> Navicat Premium Data Transfer</span>
<span class="hljs-comment"></span>
<span class="hljs-comment"> Source Server         : aa</span>
<span class="hljs-comment"> Source Server Type    : MySQL</span>
<span class="hljs-comment"> Source Server Version : 80016</span>
<span class="hljs-comment"> Source Host           : localhost:3306</span>
<span class="hljs-comment"> Source Schema         : school</span>
<span class="hljs-comment"></span>
<span class="hljs-comment"> Target Server Type    : MySQL</span>
<span class="hljs-comment"> Target Server Version : 80016</span>
<span class="hljs-comment"> File Encoding         : 65001</span>
<span class="hljs-comment"></span>
<span class="hljs-comment"> Date: 15/04/2025 10:03:46</span>
<span class="hljs-comment">*/</span>

<span class="hljs-keyword">SET</span> NAMES utf8mb4;
<span class="hljs-keyword">SET</span> FOREIGN_KEY_CHECKS <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;

<span class="hljs-comment">-- ----------------------------</span>
<span class="hljs-comment">-- Table structure for course</span>
<span class="hljs-comment">-- ----------------------------</span>
<span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> IF <span class="hljs-keyword">EXISTS</span> `course`;
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `course`  (
  `c_id` <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>) <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8 <span class="hljs-keyword">COLLATE</span> utf8_general_ci <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  `c_name` <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>) <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8 <span class="hljs-keyword">COLLATE</span> utf8_general_ci <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">&#x27;&#x27;</span>,
  `t_id` <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>) <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8 <span class="hljs-keyword">COLLATE</span> utf8_general_ci <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  <span class="hljs-keyword">PRIMARY</span> KEY (`c_id`) <span class="hljs-keyword">USING</span> BTREE
) ENGINE <span class="hljs-operator">=</span> InnoDB <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> <span class="hljs-operator">=</span> utf8 <span class="hljs-keyword">COLLATE</span> <span class="hljs-operator">=</span> utf8_general_ci ROW_FORMAT <span class="hljs-operator">=</span> <span class="hljs-keyword">Dynamic</span>;

<span class="hljs-comment">-- ----------------------------</span>
<span class="hljs-comment">-- Records of course</span>
<span class="hljs-comment">-- ----------------------------</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `course` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;01&#x27;</span>, <span class="hljs-string">&#x27;语文&#x27;</span>, <span class="hljs-string">&#x27;02&#x27;</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `course` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;02&#x27;</span>, <span class="hljs-string">&#x27;数学&#x27;</span>, <span class="hljs-string">&#x27;01&#x27;</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `course` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;03&#x27;</span>, <span class="hljs-string">&#x27;英语&#x27;</span>, <span class="hljs-string">&#x27;03&#x27;</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `course` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;04&#x27;</span>, <span class="hljs-string">&#x27;政治&#x27;</span>, <span class="hljs-string">&#x27;01&#x27;</span>);

<span class="hljs-comment">-- ----------------------------</span>
<span class="hljs-comment">-- Table structure for score</span>
<span class="hljs-comment">-- ----------------------------</span>
<span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> IF <span class="hljs-keyword">EXISTS</span> `score`;
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `score`  (
  `s_id` <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>) <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8 <span class="hljs-keyword">COLLATE</span> utf8_general_ci <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  `c_id` <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>) <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8 <span class="hljs-keyword">COLLATE</span> utf8_general_ci <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  `s_score` <span class="hljs-type">int</span>(<span class="hljs-number">3</span>) <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,
  <span class="hljs-keyword">PRIMARY</span> KEY (`s_id`, `c_id`) <span class="hljs-keyword">USING</span> BTREE
) ENGINE <span class="hljs-operator">=</span> InnoDB <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> <span class="hljs-operator">=</span> utf8 <span class="hljs-keyword">COLLATE</span> <span class="hljs-operator">=</span> utf8_general_ci ROW_FORMAT <span class="hljs-operator">=</span> <span class="hljs-keyword">Dynamic</span>;

<span class="hljs-comment">-- ----------------------------</span>
<span class="hljs-comment">-- Records of score</span>
<span class="hljs-comment">-- ----------------------------</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `score` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;01&#x27;</span>, <span class="hljs-string">&#x27;01&#x27;</span>, <span class="hljs-number">100</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `score` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;01&#x27;</span>, <span class="hljs-string">&#x27;02&#x27;</span>, <span class="hljs-number">100</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `score` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;01&#x27;</span>, <span class="hljs-string">&#x27;03&#x27;</span>, <span class="hljs-number">100</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `score` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;02&#x27;</span>, <span class="hljs-string">&#x27;01&#x27;</span>, <span class="hljs-number">70</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `score` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;02&#x27;</span>, <span class="hljs-string">&#x27;02&#x27;</span>, <span class="hljs-number">60</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `score` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;02&#x27;</span>, <span class="hljs-string">&#x27;03&#x27;</span>, <span class="hljs-number">80</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `score` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;03&#x27;</span>, <span class="hljs-string">&#x27;01&#x27;</span>, <span class="hljs-number">80</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `score` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;03&#x27;</span>, <span class="hljs-string">&#x27;02&#x27;</span>, <span class="hljs-number">80</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `score` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;03&#x27;</span>, <span class="hljs-string">&#x27;03&#x27;</span>, <span class="hljs-number">80</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `score` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;04&#x27;</span>, <span class="hljs-string">&#x27;01&#x27;</span>, <span class="hljs-number">50</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `score` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;04&#x27;</span>, <span class="hljs-string">&#x27;02&#x27;</span>, <span class="hljs-number">30</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `score` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;04&#x27;</span>, <span class="hljs-string">&#x27;03&#x27;</span>, <span class="hljs-number">20</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `score` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;04&#x27;</span>, <span class="hljs-string">&#x27;04&#x27;</span>, <span class="hljs-number">99</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `score` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;05&#x27;</span>, <span class="hljs-string">&#x27;01&#x27;</span>, <span class="hljs-number">76</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `score` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;05&#x27;</span>, <span class="hljs-string">&#x27;02&#x27;</span>, <span class="hljs-number">87</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `score` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;05&#x27;</span>, <span class="hljs-string">&#x27;04&#x27;</span>, <span class="hljs-number">78</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `score` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;06&#x27;</span>, <span class="hljs-string">&#x27;01&#x27;</span>, <span class="hljs-number">31</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `score` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;06&#x27;</span>, <span class="hljs-string">&#x27;03&#x27;</span>, <span class="hljs-number">34</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `score` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;07&#x27;</span>, <span class="hljs-string">&#x27;02&#x27;</span>, <span class="hljs-number">89</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `score` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;07&#x27;</span>, <span class="hljs-string">&#x27;03&#x27;</span>, <span class="hljs-number">98</span>);

<span class="hljs-comment">-- ----------------------------</span>
<span class="hljs-comment">-- Table structure for student</span>
<span class="hljs-comment">-- ----------------------------</span>
<span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> IF <span class="hljs-keyword">EXISTS</span> `student`;
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `student`  (
  `s_id` <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>) <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8 <span class="hljs-keyword">COLLATE</span> utf8_general_ci <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  `s_name` <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>) <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8 <span class="hljs-keyword">COLLATE</span> utf8_general_ci <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">&#x27;&#x27;</span>,
  `s_birth` <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>) <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8 <span class="hljs-keyword">COLLATE</span> utf8_general_ci <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">&#x27;&#x27;</span>,
  `s_sex` <span class="hljs-type">varchar</span>(<span class="hljs-number">10</span>) <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8 <span class="hljs-keyword">COLLATE</span> utf8_general_ci <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">&#x27;&#x27;</span>,
  <span class="hljs-keyword">PRIMARY</span> KEY (`s_id`) <span class="hljs-keyword">USING</span> BTREE
) ENGINE <span class="hljs-operator">=</span> InnoDB <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> <span class="hljs-operator">=</span> utf8 <span class="hljs-keyword">COLLATE</span> <span class="hljs-operator">=</span> utf8_general_ci ROW_FORMAT <span class="hljs-operator">=</span> <span class="hljs-keyword">Dynamic</span>;

<span class="hljs-comment">-- ----------------------------</span>
<span class="hljs-comment">-- Records of student</span>
<span class="hljs-comment">-- ----------------------------</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `student` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;01&#x27;</span>, <span class="hljs-string">&#x27;赵雷&#x27;</span>, <span class="hljs-string">&#x27;1990-01-01&#x27;</span>, <span class="hljs-string">&#x27;男&#x27;</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `student` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;02&#x27;</span>, <span class="hljs-string">&#x27;钱电&#x27;</span>, <span class="hljs-string">&#x27;1990-12-21&#x27;</span>, <span class="hljs-string">&#x27;男&#x27;</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `student` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;03&#x27;</span>, <span class="hljs-string">&#x27;孙风&#x27;</span>, <span class="hljs-string">&#x27;1990-05-20&#x27;</span>, <span class="hljs-string">&#x27;男&#x27;</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `student` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;04&#x27;</span>, <span class="hljs-string">&#x27;李云&#x27;</span>, <span class="hljs-string">&#x27;1990-08-06&#x27;</span>, <span class="hljs-string">&#x27;男&#x27;</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `student` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;05&#x27;</span>, <span class="hljs-string">&#x27;周梅&#x27;</span>, <span class="hljs-string">&#x27;1991-12-01&#x27;</span>, <span class="hljs-string">&#x27;女&#x27;</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `student` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;06&#x27;</span>, <span class="hljs-string">&#x27;吴兰&#x27;</span>, <span class="hljs-string">&#x27;1992-03-01&#x27;</span>, <span class="hljs-string">&#x27;女&#x27;</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `student` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;07&#x27;</span>, <span class="hljs-string">&#x27;郑竹&#x27;</span>, <span class="hljs-string">&#x27;1989-07-01&#x27;</span>, <span class="hljs-string">&#x27;女&#x27;</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `student` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;08&#x27;</span>, <span class="hljs-string">&#x27;小美&#x27;</span>, <span class="hljs-string">&#x27;1990-01-20&#x27;</span>, <span class="hljs-string">&#x27;女&#x27;</span>);

<span class="hljs-comment">-- ----------------------------</span>
<span class="hljs-comment">-- Table structure for teacher</span>
<span class="hljs-comment">-- ----------------------------</span>
<span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> IF <span class="hljs-keyword">EXISTS</span> `teacher`;
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `teacher`  (
  `t_id` <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>) <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8 <span class="hljs-keyword">COLLATE</span> utf8_general_ci <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  `t_name` <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>) <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8 <span class="hljs-keyword">COLLATE</span> utf8_general_ci <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">&#x27;&#x27;</span>,
  <span class="hljs-keyword">PRIMARY</span> KEY (`t_id`) <span class="hljs-keyword">USING</span> BTREE
) ENGINE <span class="hljs-operator">=</span> InnoDB <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> <span class="hljs-operator">=</span> utf8 <span class="hljs-keyword">COLLATE</span> <span class="hljs-operator">=</span> utf8_general_ci ROW_FORMAT <span class="hljs-operator">=</span> <span class="hljs-keyword">Dynamic</span>;

<span class="hljs-comment">-- ----------------------------</span>
<span class="hljs-comment">-- Records of teacher</span>
<span class="hljs-comment">-- ----------------------------</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `teacher` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;01&#x27;</span>, <span class="hljs-string">&#x27;张三&#x27;</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `teacher` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;02&#x27;</span>, <span class="hljs-string">&#x27;李四&#x27;</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `teacher` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;03&#x27;</span>, <span class="hljs-string">&#x27;王五&#x27;</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `teacher` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;04&#x27;</span>, <span class="hljs-string">&#x27;侯亮平&#x27;</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `teacher` <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;05&#x27;</span>, <span class="hljs-string">&#x27;侯从&#x27;</span>);

<span class="hljs-comment">-- ----------------------------</span>
<span class="hljs-comment">-- View structure for s_g2</span>
<span class="hljs-comment">-- ----------------------------</span>
<span class="hljs-keyword">DROP</span> <span class="hljs-keyword">VIEW</span> IF <span class="hljs-keyword">EXISTS</span> `s_g2`;
<span class="hljs-keyword">CREATE</span> ALGORITHM <span class="hljs-operator">=</span> UNDEFINED <span class="hljs-keyword">SQL</span> SECURITY DEFINER <span class="hljs-keyword">VIEW</span> `s_g2` <span class="hljs-keyword">AS</span> <span class="hljs-keyword">select</span> `student`.`s_id` <span class="hljs-keyword">AS</span> `s_id`,`student`.`s_sex` <span class="hljs-keyword">AS</span> `s_sex` <span class="hljs-keyword">from</span> `student` <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> `student`.`s_id`;

<span class="hljs-comment">-- ----------------------------</span>
<span class="hljs-comment">-- View structure for test</span>
<span class="hljs-comment">-- ----------------------------</span>
<span class="hljs-keyword">DROP</span> <span class="hljs-keyword">VIEW</span> IF <span class="hljs-keyword">EXISTS</span> `test`;
<span class="hljs-keyword">CREATE</span> ALGORITHM <span class="hljs-operator">=</span> UNDEFINED <span class="hljs-keyword">SQL</span> SECURITY DEFINER <span class="hljs-keyword">VIEW</span> `test` <span class="hljs-keyword">AS</span> <span class="hljs-keyword">select</span> `s_g`.`avg` <span class="hljs-keyword">AS</span> `avg` <span class="hljs-keyword">from</span> `s_g`;

<span class="hljs-comment">-- ----------------------------</span>
<span class="hljs-comment">-- Function structure for mock_data</span>
<span class="hljs-comment">-- ----------------------------</span>
<span class="hljs-keyword">DROP</span> <span class="hljs-keyword">FUNCTION</span> IF <span class="hljs-keyword">EXISTS</span> `mock_data`;
delimiter ;;
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">FUNCTION</span> `mock_data`()
 <span class="hljs-keyword">RETURNS</span> <span class="hljs-type">int</span>(<span class="hljs-number">11</span>)
<span class="hljs-keyword">BEGIN</span>
	<span class="hljs-keyword">DECLARE</span> num <span class="hljs-type">INT</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">1000000</span>;
	<span class="hljs-keyword">DECLARE</span> i <span class="hljs-type">INT</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>;
	WHILE i<span class="hljs-operator">&lt;</span>num DO
		<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `app_user`(`name`,`email`,`phone`,`gender`)<span class="hljs-keyword">VALUES</span>(CONCAT(<span class="hljs-string">&#x27;用户&#x27;</span>,i),<span class="hljs-string">&#x27;19224305@qq.com&#x27;</span>,<span class="hljs-string">&#x27;123456789&#x27;</span>,<span class="hljs-built_in">FLOOR</span>(RAND()<span class="hljs-operator">*</span><span class="hljs-number">2</span>));
		<span class="hljs-keyword">SET</span> i<span class="hljs-operator">=</span>i<span class="hljs-operator">+</span><span class="hljs-number">1</span>;
	<span class="hljs-keyword">END</span> WHILE;
	<span class="hljs-keyword">RETURN</span> i;
<span class="hljs-keyword">END</span>
;;
delimiter ;

<span class="hljs-keyword">SET</span> FOREIGN_KEY_CHECKS <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;
</code></pre></div></div></div><h3 id="查询编号为01的课程比02的课程成绩高的所有学生的学号">1*、查询编号为01的课程比02的课程成绩高的所有学生的学号</h3><div class="code-wrapper"><pre><code class="hljs mysql">-- 1、基于派生表的查询，期望构建出一张表，其中包含，学生的id，01课程的成绩，02课程的成绩，然后通过简单的比较，得出结果
-- SELECT s1.s_id &quot;学号&quot;, s1.s_score &quot;课程1的成绩&quot;, s2.s_score &quot;课程2的成绩&quot;
SELECT s1.s_id
FROM    -- 构建一个表，包含学生学号、课程1的成绩、课程2的成绩
    (SELECT s_id, s_score
     FROM score
     WHERE c_id = &quot;01&quot;) AS s1
    INNER JOIN
        (SELECT s_id, s_score
         FROM score s2
         WHERE c_id = &quot;02&quot;) AS s2
    ON s1.s_id = s2.s_id
WHERE s1.s_score &gt; s2.s_score;  -- 从所构建的表中查出课程1的成绩 &gt; 课程2的成绩的学生学号


-- 2、使用带有EXISTS谓词的子查询
SELECT s_id
FROM score s1
WHERE c_id = &quot;01&quot;
    AND EXISTS(
        SELECT *
        FROM score s2
        WHERE s1.s_id = s2.s_id
            AND s2.c_id = &quot;02&quot;
            AND s1.s_score &gt; s2.s_score
);


-- 构造派生表练习：
-- 找出每个学生超过他自己选修课程平均成绩的课程号和成绩
SELECT s1.s_id, s1.c_id, s1.s_score,s2.s_avg_score
FROM
    score s1
    INNER JOIN
    (SELECT  s_id, AVG(s_score) &quot;s_avg_score&quot;
     FROM score
     GROUP BY s_id
     ) AS s2
    ON s1.s_id = s2.s_id
WHERE s1.s_score &gt; s2.s_avg_score;</code></pre></div><p>注：每个派生表都必须指定一个别名，在其中可以定义查询出字段的名字</p><div class="note note-info"><p>总结：对于一个查询，思考能否将所需要的字段纳入到一张表中，然后通过在这个表中进行简单查找就能得出答案</p></div><h3 id="查询平均成绩大于60分的学生的学号和平均成绩">2、查询平均成绩大于60分的学生的学号和平均成绩</h3><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-comment">--思路：1、期望得到一张表，其中包含学号和平均成绩，直接从中选择平均成绩大于60的即可</span>
<span class="hljs-keyword">SELECT</span> s1.s_id, s1.avg_grade 
<span class="hljs-keyword">FROM</span> (<span class="hljs-keyword">SELECT</span> s_id, <span class="hljs-built_in">AVG</span>(s_score) <span class="hljs-keyword">FROM</span> score <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> s_id) <span class="hljs-keyword">AS</span> s1(s_id, avg_grade) 
<span class="hljs-keyword">WHERE</span> s1.avg_grade <span class="hljs-operator">&gt;</span> <span class="hljs-number">60</span>;

<span class="hljs-comment">--思路：2、使用group by 对score表进行分组，再使用avg计算每组的平均值，最后使用having 选出平均值大于60的</span>
<span class="hljs-comment">-- 注：聚集函数只能用于select和having子句中，不能直接用与where子句；</span>
<span class="hljs-keyword">SELECT</span> s_id, <span class="hljs-built_in">AVG</span>(s_score) 
<span class="hljs-keyword">FROM</span> score
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> s_id;
<span class="hljs-keyword">HAVING</span> <span class="hljs-built_in">AVG</span>(s_score) <span class="hljs-operator">&gt;</span> <span class="hljs-number">60</span></code></pre></div><h3 id="查询所有学生的学号姓名选课数总成绩">3、查询所有学生的学号、姓名、选课数、总成绩</h3><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-comment">-- 这些信息涉及的表有：student和score，</span>
<span class="hljs-comment">--1、由于要查询所有的学生选课及分数，连接时必须使用左连接，若使用inner join所求的是交集，没选课的学生信息将不包含在内。</span>
<span class="hljs-comment">-- 2、分组后统计个数用count，求和用sum</span>
<span class="hljs-comment">-- 3、使用 IF/CASE WHEN语句做判断，当成绩为null时，返回0</span>
<span class="hljs-keyword">SELECT</span>
    s.s_id <span class="hljs-string">&#x27;学号&#x27;</span>,
    s.s_name <span class="hljs-string">&#x27;姓名&#x27;</span>,
    <span class="hljs-built_in">COUNT</span>(c_id) &quot;选课数&quot;,
    <span class="hljs-built_in">SUM</span>(<span class="hljs-keyword">CASE</span> <span class="hljs-keyword">WHEN</span> s_score <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">THEN</span> <span class="hljs-number">0</span> <span class="hljs-keyword">ELSE</span> s_score <span class="hljs-keyword">END</span> ) &quot;总成绩&quot;
<span class="hljs-comment">--     SUM(IF(s_score IS NULL, 0, s_score)) &quot;总成绩&quot;</span>
         <span class="hljs-comment">--使用IF语句判断 IF(condition, true_value, false_value)</span>
<span class="hljs-keyword">FROM</span> student s
    <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span>
    score sc
    <span class="hljs-keyword">ON</span> s.s_id <span class="hljs-operator">=</span> sc.s_id
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> s.s_id, s.s_name;
<span class="hljs-comment">-- select中只能出现Group By语句中的字段</span></code></pre></div><h3 id="查询姓侯的老师的人数">4、查询姓侯的老师的人数</h3><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-comment">-- 首先用like查出所有姓侯的老师，再用count统计个数</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>)
<span class="hljs-keyword">FROM</span> teacher
<span class="hljs-keyword">WHERE</span> t_name <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&#x27;侯%&#x27;</span></code></pre></div><h3 id="查询没学过张三老师课的学生的学号和姓名-先做逆命题">5*、查询没学过张三老师课的学生的学号和姓名 （<strong>先做逆命题</strong>）</h3><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-comment">-- 首先考虑这个问题的逆命题：先查学过张三老师课的学生的学号，最后查student表，返回不属于这个集合的学生即为所求</span>

<span class="hljs-comment">-- 思路一：嵌套子查询的方式</span>
<span class="hljs-comment">-- 5.3、哪些学生没选张三老师的课</span>
<span class="hljs-keyword">SELECT</span> s_id &quot;学号&quot;, s_name &quot;姓名&quot;
<span class="hljs-keyword">FROM</span> student
<span class="hljs-keyword">WHERE</span> s_id <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">IN</span> (
    <span class="hljs-comment">-- 5.2、哪些学生选了张三老师的课</span>
    <span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> s_id
    <span class="hljs-keyword">FROM</span> score
    <span class="hljs-keyword">WHERE</span> c_id <span class="hljs-keyword">IN</span> (
        <span class="hljs-comment">-- 5.1、张三老师教了哪些课</span>
        <span class="hljs-keyword">SELECT</span> c_id
        <span class="hljs-keyword">FROM</span> course c
        <span class="hljs-keyword">WHERE</span> t_id <span class="hljs-operator">=</span> (<span class="hljs-keyword">SELECT</span> t_id
                      <span class="hljs-keyword">FROM</span> teacher
                      <span class="hljs-keyword">WHERE</span> t_name <span class="hljs-operator">=</span> &quot;张三&quot;))       
);

<span class="hljs-comment">-- 思路二：通过构建一个派生表，包含（s_id,c_id,t_id,t_name）即可从中选出学习了张三老师课的学生，最后得出没选的学生</span>
<span class="hljs-keyword">SELECT</span> st.s_id, st.s_name
<span class="hljs-keyword">FROM</span> student st
<span class="hljs-keyword">WHERE</span> s_id <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">IN</span> (
         <span class="hljs-comment">-- 1、查出学习了张三老师课的学生id</span>
        <span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> s_id
        <span class="hljs-keyword">FROM</span> score s
                <span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> 
    			course c <span class="hljs-keyword">ON</span> s.c_id <span class="hljs-operator">=</span> c.c_id
                <span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> teacher t <span class="hljs-keyword">ON</span> (c.t_id <span class="hljs-operator">=</span> t.t_id <span class="hljs-keyword">AND</span> t.t_name <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;张三&#x27;</span>)
    	<span class="hljs-comment">-- 应该将其作为连接的条件，减少连接时的记录行，减小结果集。而不是全部连接后再从更大的结果集中筛选</span>
        <span class="hljs-comment">-- WHERE t_name = &quot;张三&quot; </span>
);</code></pre></div><h3 id="查询学过张三老师课的学生的学号和姓名">6*、查询学过张三老师课的学生的学号和姓名</h3><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-comment">-- 思路：通过表间连接，得到一张包含（学号，姓名，所学课程，任课老师）的表</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> st.s_id, st.s_name
<span class="hljs-keyword">FROM</span>
	<span class="hljs-comment">-- 由于只找选了张三老师课的学生，故直接用inner join即可</span>
	student st
	<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> score s <span class="hljs-keyword">on</span> st.s_id <span class="hljs-operator">=</span> s.s_id
	<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> course c <span class="hljs-keyword">on</span> s.c_id <span class="hljs-operator">=</span> c.c_id
	<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> teacher t <span class="hljs-keyword">on</span> (c.t_id <span class="hljs-operator">=</span> t.t_id <span class="hljs-keyword">AND</span> t.t_name <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;张三&#x27;</span>);
	

<span class="hljs-comment">-- 反思：如果表中数据很多，一次性关联多张表的连接会影响性能。</span>
<span class="hljs-comment">-- 1、应该逐步连接表。先连接前两个表，得到结果集后再去连接下一个表，而不是一次性连接所有表。</span>
<span class="hljs-comment">-- 2、如果有额外的过滤条件，应该将其加入连接条件中得到更小的结果集，而不是得到更大的结果集后再从中筛选。</span>
<span class="hljs-comment">-- 3、多表关联查询时，确保连接条件和过滤条件上的列有适当的索引。索引可以显著提高连接操作的性能。</span>
<span class="hljs-comment">-- 4、可以通过创建视图来简化复杂的连接逻辑，并在视图中应用索引。</span></code></pre></div><h3 id="查询学过编号为01的课程并且学过编号为02的课程的学生的学号和姓名">7*、查询学过编号为01的课程并且学过编号为02的课程的学生的学号和姓名</h3><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-comment">-- 思路一：先查学过01课程的学生学号，再查学过02课程的学生学号，再求两个的交集即可（通过inner join求结果集的交集）</span>
<span class="hljs-keyword">SELECT</span> s_id,s_name
<span class="hljs-keyword">FROM</span> student
<span class="hljs-keyword">WHERE</span> s_id <span class="hljs-keyword">IN</span> (
    <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
    <span class="hljs-keyword">FROM</span> (<span class="hljs-keyword">SELECT</span> s_id <span class="hljs-keyword">FROM</span> score  <span class="hljs-keyword">WHERE</span> c_id <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;01&#x27;</span>) <span class="hljs-keyword">AS</span> sc1
         <span class="hljs-keyword">NATURAL</span> <span class="hljs-keyword">JOIN</span>
         (<span class="hljs-keyword">SELECT</span> s_id <span class="hljs-keyword">FROM</span> score  <span class="hljs-keyword">WHERE</span> c_id <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;02&#x27;</span>) <span class="hljs-keyword">AS</span> sc2
    )


<span class="hljs-comment">-- 思路二：在score表中筛选出选修了01课程的学生，同时对应选出的元组使用EXISTS谓词筛选选修了02课程的</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> student st
<span class="hljs-keyword">WHERE</span> st.s_id <span class="hljs-keyword">IN</span> (
    <span class="hljs-keyword">SELECT</span> sc1.s_id
    <span class="hljs-keyword">FROM</span> score sc1
    <span class="hljs-keyword">WHERE</span> c_id <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;01&#x27;</span> <span class="hljs-keyword">AND</span> <span class="hljs-keyword">EXISTS</span>(<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> score sc2 <span class="hljs-keyword">WHERE</span> sc1.s_id <span class="hljs-operator">=</span> sc2.s_id <span class="hljs-keyword">AND</span>  sc2.c_id <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;02&#x27;</span>)
    );
    
<span class="hljs-comment">--思路三：查询score表，将课程号是01或02的元组保留，并按学号分组，查询每组的元组个数，若为2则为选修了01和02 的学生</span>
<span class="hljs-keyword">SELECT</span> st.s_id, st.s_name
<span class="hljs-keyword">FROM</span> score s <span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> 	student st <span class="hljs-keyword">ON</span> s.s_id <span class="hljs-operator">=</span> st.s_id
<span class="hljs-keyword">WHERE</span> s.c_id <span class="hljs-keyword">IN</span> (&quot;01&quot;,&quot;02&quot;)
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> s.s_id
<span class="hljs-keyword">HAVING</span> <span class="hljs-built_in">COUNT</span>(s.s_id) <span class="hljs-operator">=</span> <span class="hljs-number">2</span></code></pre></div><h3 id="查询课程编号为02的总成绩">8、查询课程编号为02的总成绩</h3><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-comment">-- 选出课程编号为02记录，统计其中分数的总和</span>
<span class="hljs-keyword">SELECT</span> c_id,<span class="hljs-built_in">SUM</span>(s_score)
<span class="hljs-keyword">FROM</span> score
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> c_id
<span class="hljs-keyword">HAVING</span> c_id <span class="hljs-operator">=</span> &quot;02&quot;


<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">SUM</span>(s_score)
<span class="hljs-keyword">FROM</span> score
<span class="hljs-keyword">WHERE</span> c_id <span class="hljs-operator">=</span> &quot;02&quot;</code></pre></div><h3 id="查询所有课程成绩小于60分的学生的学号和姓名">9、查询所有课程成绩小于60分的学生的学号和姓名</h3><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-comment">-- 使用内连接</span>
<span class="hljs-keyword">SELECT</span>	st.s_id, st.s_name, s.c_id, s.s_score
<span class="hljs-keyword">FROM</span> score s <span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> student st <span class="hljs-keyword">on</span> s.s_id <span class="hljs-operator">=</span> st.s_id
<span class="hljs-keyword">WHERE</span> s.s_score <span class="hljs-operator">&lt;</span> <span class="hljs-number">60</span>

<span class="hljs-comment">--使用子查询</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> s_id,s_name
<span class="hljs-keyword">FROM</span> student
<span class="hljs-keyword">WHERE</span> s_id <span class="hljs-keyword">IN</span> (
	<span class="hljs-keyword">SELECT</span> s_id
	<span class="hljs-keyword">FROM</span> score
	<span class="hljs-keyword">WHERE</span> s_score <span class="hljs-operator">&lt;</span> <span class="hljs-number">60</span>
)</code></pre></div><h3 id="查询没有学全所有课的学生的学号和姓名">10*、查询没有学全所有课的学生的学号和姓名</h3><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-comment">-- 思路一：查询所有课程的总数，将score表和student表连接后按照学号分组，若某组的总数小于总的课程数，即为没学全所有课程的学生。</span>

<span class="hljs-keyword">SELECT</span> st.s_id, st.s_name
<span class="hljs-keyword">FROM</span> student st
    <span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> score s
        <span class="hljs-keyword">ON</span> st.s_id <span class="hljs-operator">=</span> s.s_id
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> st.s_id
<span class="hljs-keyword">HAVING</span> <span class="hljs-built_in">COUNT</span>(c_id) <span class="hljs-operator">&lt;</span> (
    <span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">COUNT</span>(c_id)
    <span class="hljs-keyword">FROM</span> course
    );</code></pre></div><h3 id="查询至少有一门课与学号为01的学生所学课程相同的学生的学号和姓名">11*、查询至少有一门课与学号为01的学生所学课程相同的学生的学号和姓名</h3><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-comment">-- 思路：1、学号为01的学生学了哪些课  2、直接将student表和score表连接，从中选出符合条件的学生</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> student.s_id,s_name
<span class="hljs-keyword">FROM</span> score <span class="hljs-keyword">NATURAL</span> <span class="hljs-keyword">JOIN</span> student
<span class="hljs-keyword">WHERE</span> c_id <span class="hljs-keyword">IN</span> (
    <span class="hljs-keyword">SELECT</span> c_id
    <span class="hljs-keyword">FROM</span> score
    <span class="hljs-keyword">WHERE</span> s_id <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;01&#x27;</span>
    ) 
    <span class="hljs-keyword">AND</span> s_id <span class="hljs-operator">!=</span> <span class="hljs-string">&#x27;01&#x27;</span>;
    
<span class="hljs-comment">-- 其他写法 </span>
 <span class="hljs-keyword">SELECT</span> s_id, s_name
<span class="hljs-keyword">FROM</span> student
<span class="hljs-keyword">WHERE</span> s_id <span class="hljs-keyword">IN</span> ( <span class="hljs-comment">--使用IN</span>
    <span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> s_id
    <span class="hljs-keyword">FROM</span> score
    <span class="hljs-keyword">WHERE</span> c_id <span class="hljs-keyword">IN</span> (
                <span class="hljs-keyword">SELECT</span> c_id
                <span class="hljs-keyword">FROM</span> score
                <span class="hljs-keyword">WHERE</span> s_id <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;01&#x27;</span>
                )
        <span class="hljs-keyword">AND</span> s_id <span class="hljs-operator">!=</span> <span class="hljs-string">&#x27;01&#x27;</span>
    )
    
<span class="hljs-keyword">SELECT</span> a.s_id, a.s_name
<span class="hljs-keyword">FROM</span> student <span class="hljs-keyword">AS</span> a
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> <span class="hljs-comment">-- 用INNER JOIN代替 IN,数据量较大时比IN的效率高</span>
    (
        <span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> s_id
        <span class="hljs-keyword">FROM</span> score
        <span class="hljs-keyword">WHERE</span> c_id <span class="hljs-keyword">IN</span> (
            <span class="hljs-keyword">SELECT</span> c_id
            <span class="hljs-keyword">FROM</span> score
            <span class="hljs-keyword">WHERE</span> s_id <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;01&#x27;</span>
            )
            <span class="hljs-keyword">AND</span> s_id <span class="hljs-operator">!=</span> <span class="hljs-string">&#x27;01&#x27;</span>
    ) <span class="hljs-keyword">AS</span> b
<span class="hljs-keyword">ON</span> a.s_id <span class="hljs-operator">=</span> b.s_id;</code></pre></div><h3 id="查询与学号为01的学生所学课程完全相同的学生的学号和姓名">12*、查询与学号为01的学生所学课程<strong>完全相同</strong>的学生的学号和姓名</h3><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-comment">-- 思路：1、查询出学号为01的学生学了哪些课 </span>
<span class="hljs-comment">--		2、从score表中将有与学号为01同学选课重叠的记录都保留下来，如01同学选了课程号为01,02,03的		   课程，使用谓词IN从score表中将选课编号包含在内的记录都保留下来，按照学号分组，统计每组的			个数，保留选课数量与01同学选课数量相同的组，即找到了与其所选课程完全相同的学生学号</span>
<span class="hljs-comment">--		3、可以使用谓词IN或INNNER JOIN从student表中得到学号和姓名</span>

<span class="hljs-keyword">SELECT</span> a.s_id, a.s_name
<span class="hljs-keyword">FROM</span> student <span class="hljs-keyword">AS</span> a
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> (    <span class="hljs-comment">-- 3、INNER JOIN代替 IN</span>
    <span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> s_id
    <span class="hljs-keyword">FROM</span> score
    <span class="hljs-keyword">WHERE</span> c_id <span class="hljs-keyword">IN</span> ( <span class="hljs-comment">--1、筛选所选课程编号在01同学选课编号集合中的记录</span>
        <span class="hljs-keyword">SELECT</span> c_id <span class="hljs-keyword">FROM</span> score <span class="hljs-keyword">WHERE</span> s_id <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;01&#x27;</span>
        )
        <span class="hljs-keyword">AND</span> s_id <span class="hljs-operator">!=</span> <span class="hljs-string">&#x27;01&#x27;</span>
    <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> s_id <span class="hljs-comment">--2、按学号分组，统计每组的选课数</span>
    <span class="hljs-keyword">HAVING</span> <span class="hljs-built_in">COUNT</span>(c_id) <span class="hljs-operator">=</span> (
        <span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">COUNT</span>(c_id) <span class="hljs-keyword">FROM</span> score <span class="hljs-keyword">WHERE</span> s_id <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;01&#x27;</span>
        )
) <span class="hljs-keyword">AS</span> b
<span class="hljs-keyword">ON</span> a.s_id <span class="hljs-operator">=</span> b.s_id;</code></pre></div><h3 id="查询两门及以上不及格课程的学生的学号姓名及平均成绩">15**、查询两门及以上不及格课程的学生的学号姓名及平均成绩</h3><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-comment">-- 思路：先使用WHERE语句筛选出课程不及格的记录，再按照学号分组，统计每组的记录数，将总数大于等于2的分组保留，返回每组对应的学号和平均成绩。再使用INNER/RIGHT JOIN与student表做连接，最终得到满足条件的学生的学号，姓名以及平均成绩</span>

<span class="hljs-keyword">SELECT</span> st.s_id, st.s_name, temp.avg_grade
<span class="hljs-keyword">FROM</span> student <span class="hljs-keyword">AS</span> st
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> (
    <span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> s_id, <span class="hljs-built_in">AVG</span>(s_score)
    <span class="hljs-keyword">FROM</span> score
    <span class="hljs-keyword">WHERE</span> s_score <span class="hljs-operator">&lt;</span> <span class="hljs-number">60</span>
    <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> s_id
    <span class="hljs-keyword">HAVING</span> <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) <span class="hljs-operator">&gt;=</span> <span class="hljs-number">2</span>
) <span class="hljs-keyword">AS</span> temp(s_id, avg_grade)
<span class="hljs-keyword">ON</span> st.s_id <span class="hljs-operator">=</span> temp.s_id;</code></pre></div><h3 id="检索01课程分数小于60按分数降序排列的学生信息">16、检索01课程分数小于60，按分数降序排列的学生信息</h3><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> st.s_id,
       st.s_name,
       temp.c_id,
       temp.s_score
<span class="hljs-keyword">FROM</span> student <span class="hljs-keyword">AS</span> st
<span class="hljs-keyword">RIGHT</span> <span class="hljs-keyword">JOIN</span> (
    <span class="hljs-keyword">SELECT</span> s_id,c_id,s_score
    <span class="hljs-keyword">FROM</span> score
    <span class="hljs-keyword">WHERE</span> c_id <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;01&#x27;</span>
        <span class="hljs-keyword">AND</span> s_score <span class="hljs-operator">&lt;</span> <span class="hljs-number">60</span>
) <span class="hljs-keyword">AS</span> temp
<span class="hljs-keyword">ON</span> st.s_id <span class="hljs-operator">=</span> temp.s_id
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> temp.s_score <span class="hljs-keyword">DESC</span> ;</code></pre></div><link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" class="category-chain-item">数据库</a></span></span></div></div><div class="license-box my-3"><div class="license-title"><div>MySQL（三）</div><div>https://catpaws.top/f07c622d/</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>猫爪在上</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2024年12月9日</div></div><div class="license-meta-item"><div>许可协议</div><div><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-cc-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/146f67fb/" title="函数式编程-Stream流"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">函数式编程-Stream流</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/bd62c17f/" title="MySQL（二）"><span class="hidden-mobile">MySQL（二）</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><div id="twikoo"></div><script type="text/javascript">Fluid.utils.loadComments("#comments",(function(){Fluid.utils.createScript("https://catpaws.top/blog-resource/twikoo1.6.42/twikoo.all.min.js",(function(){var t=Object.assign({envId:"https://catpaws-comments.netlify.app/.netlify/functions/twikoo",region:"ap-shanghai",path:"window.location.pathname"},{el:"#twikoo",path:"window.location.pathname",onCommentLoaded:function(){Fluid.utils.listenDOMLoaded((function(){var t="#twikoo .tk-content img:not(.tk-owo-emotion)";Fluid.plugins.imageCaption(t),Fluid.plugins.fancyBox(t)}))}});twikoo.init(t)}))}))</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>目录</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><script>Fluid.utils.createScript("https://lib.baomitu.com/mermaid/8.14.0/mermaid.min.js",(function(){mermaid.initialize({theme:"default"}),Fluid.utils.listenDOMLoaded((function(){Fluid.events.registerRefreshCallback((function(){"mermaid"in window&&mermaid.init()}))}))}))</script><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content">人山人海，欢迎你的到来 <i class="iconfont icon-love"></i><br><span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span><br><span><a target="_blank" rel="noopener" href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral">本站由<img src="/img/upyun_logo.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload style="width:auto;height:auto">提供CDN加速/云存储服务</a></span></div><div class="beian"><span><a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">陕ICP备2025059828号 </a></span><span><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=61032302000087" rel="nofollow noopener" class="beian-police" target="_blank"><span style="visibility:hidden;width:0">|</span> <img src="/img/police_beian.png" srcset="https://catpaws.top/blog-resource/imgs/transparent.svg" lazyload alt="police-icon"> <span>陕公网安备61032302000087号</span></a></span></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script>!function(t,e){var i=Fluid.plugins.typing,n=e.getElementById("subtitle");n&&i&&i(n.getAttribute("data-typed-text"))}(window,document)</script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var i=jQuery("#board-ctn").offset().top;window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-i},CONFIG.toc)),t.find(".toc-list-item").length>0&&t.css("visibility","visible"),Fluid.events.registerRefreshCallback((function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))}}))</script><script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", ")),Fluid.events.registerRefreshCallback((function(){if("anchors"in window){anchors.removeAll();var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(anchors.options.class="anchorjs-link-left"),anchors.add(o.join(", "))}}))}))</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script defer src="/js/leancloud.js"></script><script src="/js/local-search.js"></script><script src="//catpaws.top/blog-resource/js/timeDate.js"></script><script src="//sdk.jinrishici.com/v2/browser/jinrishici.js"></script><script src="//catpaws.top/blog-resource/js/loader.js"></script><script src="//catpaws.top/blog-resource/js/blurpicload.js"></script><script src="//catpaws.top/blog-resource/js/axios.min.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript><script data-pjax src="https://catpaws.top/blog-resource/live2d/index.min.js"></script><script>const oml2d=OML2D.loadOml2d({dockedPosition:"left",mobileDisplay:!1,models:[{path:"https://catpaws.top/blog-resource/live2d/Frieren/Frieren.model3.json",motionPreloadStrategy:"IDLE",position:[-60,-100],scale:.06,stageStyle:{width:250,height:350}}],parentElement:document.body,primaryColor:"var(--btn-bg)",sayHello:!1,tips:{style:{width:200,height:90,left:"calc(50% - 20px)",top:"-100px","font-size":"14px"}}})</script></body></html>